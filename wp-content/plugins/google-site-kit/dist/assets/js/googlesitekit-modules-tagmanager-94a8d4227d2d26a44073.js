"use strict";(globalThis.__googlesitekit_webpackJsonp=globalThis.__googlesitekit_webpackJsonp||[]).push([[155],{2362:(e,t,n)=>{n.d(t,{A:()=>g});var i=n(4452),s=n.n(i),r=n(62688),o=n.n(r),a=n(63696),c=n(62540);const l=(0,a.forwardRef)(({label:e,className:t,hasLeftSpacing:n=!1,...i},r)=>(0,c.jsx)("span",{ref:r,...i,className:s()("googlesitekit-badge",t,{"googlesitekit-badge--has-left-spacing":n}),children:e}));l.displayName="Badge",l.propTypes={label:o().string.isRequired,hasLeftSpacing:o().bool};const g=l},2522:(e,t,n)=>{n.d(t,{D:()=>r});var i=n(32091),s=n.n(i);function r(e,{dateRangeLength:t}){s()(Array.isArray(e),"report must be an array to partition."),s()(Number.isInteger(t)&&t>0,"dateRangeLength must be a positive integer.");const n=-1*t;return{currentRange:e.slice(n),compareRange:e.slice(2*n,n)}}},3170:(e,t,n)=>{n.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var i,s=n(63696);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=e=>s.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 19"},e),i||(i=s.createElement("path",{fill:"currentColor",d:"M0 19h22L11 0zm12-3h-2v-2h2zm0-4h-2V8h2z"})))},3687:(e,t,n)=>{n.d(t,{U:()=>h});var i=n(32091),s=n.n(i),r=n(17243),o=n(21125),a=n(71769),c=n(12850),l=n(50539);function g(e){return e}function u(){return{}}function d(){}const{clearError:m,receiveError:p}=o.o1;function h({baseName:e,controlCallback:t,reducerCallback:n=g,argsToParams:i=u,validateParams:o=d}){let h;s()(e,"baseName is required."),s()("function"==typeof t,"controlCallback is required and must be a function."),s()("function"==typeof n,"reducerCallback must be a function."),s()("function"==typeof i,"argsToParams must be a function."),s()("function"==typeof o,"validateParams must be a function.");try{o(i()),h=!1}catch(e){h=!0}const f=(0,a.m2)(e),y=(0,a.sP)(e),v=`FETCH_${y}`,_=`START_${v}`,S=`FINISH_${v}`,b=`CATCH_${v}`,A=`RECEIVE_${y}`,k=`fetch${f}`,C=`receive${f}`,x=`isFetching${f}`,w={[x]:{}};const N={[k](...t){const n=i(...t);return o(n),function*(t,n){let i,s;yield{payload:{params:t},type:_},yield m(e,n);try{i=yield{payload:{params:t},type:v},yield N[C](i,t),yield{payload:{params:t},type:S}}catch(i){s=i,yield p(s,e,n),yield{payload:{params:t},type:b}}return{response:i,error:s}}(n,t)},[C]:(e,t)=>(s()(void 0!==e,"response is required."),h?(s()((0,r.isPlainObject)(t),"params is required."),o(t)):t={},{payload:{response:e,params:t},type:A})},I={[v]:({payload:e})=>t(e.params)},T=(0,l.createReducer)((e,{type:t,payload:i})=>{switch(t){case _:{const{params:t}=i;return e[x]=e[x]||{},e[x][(0,c.Zm)(t)]=!0,e}case A:{const{response:t,params:s}=i;return n(e,t,s)}case S:{const{params:t}=i;return e[x]=e[x]||{},e[x][(0,c.Zm)(t)]=!1,e}case b:{const{params:t}=i;return e[x]=e[x]||{},e[x][(0,c.Zm)(t)]=!1,e}default:return e}});return{initialState:w,actions:N,controls:I,reducer:T,resolvers:{},selectors:{[x]:(e,...t)=>{if(void 0===e[x])return!1;let n;try{n=i(...t),o(n)}catch(e){return!1}return!!e[x][(0,c.Zm)(n)]}}}}},3714:(e,t,n)=>{n.d(t,{Kk:()=>r,SZ:()=>i,Yw:()=>o,oJ:()=>a,tT:()=>s});const i="body",s=[i,"display","headline","label","title"],r="small",o="medium",a=[r,o,"large"]},6464:(e,t,n)=>{n.d(t,{i:()=>o});var i=n(63696),s=n(11106),r=n(65214);function o(e){const t=(0,i.useContext)(s.A);return(0,r.G)(e,t)}},8143:(e,t,n)=>{n.d(t,{VZ:()=>r,dc:()=>o,pH:()=>s,r0:()=>a});var i=n(84024);function s(e){try{return new URL(e).pathname}catch{}return null}function r(e,t){try{return new URL(t,e).href}catch{}return("string"==typeof e?e:"")+("string"==typeof t?t:"")}function o(e){return"string"!=typeof e?e:e.replace(/^https?:\/\/(www\.)?/i,"").replace(/\/$/,"")}function a(e,t){if(!(0,i.m)(e))return e;if(e.length<=t)return e;const n=new URL(e),s=e.replace(n.origin,"");if(s.length<t)return s;const r=s.length-Math.floor(t)+1;return"…"+s.substr(r)}},11106:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(63696),s=n(65214);const r=(0,i.createContext)(s.t)},11965:(e,t,n)=>{n.d(t,{N:()=>g,g:()=>u});var i=n(32091),s=n.n(i),r=n(17243),o=n(42926),a=n(84024),c=n(44451),l=n(93896);function g(e,t){const n=t.find(t=>t.test(e));return!!n&&n.exec(e)[1]}const u=(0,r.memoize)(async({homeURL:e,ampMode:t})=>{s()((0,a.m)(e),"homeURL must be valid URL");const n=[e];if(l.OQ===t)try{const e=await(0,o.A)({path:"/wp/v2/posts?per_page=1"}).then(e=>e.slice(0,1).map(e=>(0,c.F)(e.link,{amp:1})).pop());e&&n.push(e)}catch{return n}return n})},11997:(e,t,n)=>{function i(e,...t){return e.reduce((e,n,i)=>e+n+encodeURIComponent(t[i]||""),"")}n.d(t,{U:()=>i})},12850:(e,t,n)=>{n.d(t,{tt:()=>x,Jg:()=>C,Gp:()=>A,GH:()=>b,r0:()=>k,Du:()=>w,Zf:()=>H,Cn:()=>G,G7:()=>f,vH:()=>h,N_:()=>E,zh:()=>Z,mK:()=>g.mK,Ql:()=>N,vY:()=>M,sq:()=>T,VZ:()=>$.VZ,JK:()=>g.JK,IS:()=>D,pH:()=>$.pH,kf:()=>U,O5:()=>L,Qr:()=>I,x6:()=>F,K5:()=>g.K5,S_:()=>p,dc:()=>$.dc,Eo:()=>g.Eo,jq:()=>g.jq,DK:()=>q.D,N9:()=>V,p9:()=>r.p,XH:()=>j,Zm:()=>c,sx:()=>s.sx,BI:()=>s.BI,CZ:()=>r.C,BG:()=>B});var i=n(17243),s=n(89318),r=n(82046),o=n(10523),a=n.n(o);function c(e){return a()(JSON.stringify(l(e)))}function l(e){const t={};return Object.keys(e).sort().forEach(n=>{let i=e[n];i&&"object"==typeof i&&!Array.isArray(i)&&(i=l(i)),t[n]=i}),t}var g=n(79829);function u(e){return e.replace(new RegExp("\\[([^\\]]+)\\]\\((https?://[^/]+\\.\\w+/?.*?)\\)","gi"),'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>')}function d(e){return`<p>${e.replace(/\n{2,}/g,"</p><p>")}</p>`}function m(e){return e.replace(/\n/gi,"<br>")}function p(e){const t=[u,d,m];let n=e;for(const e of t)n=e(n);return n}function h(e){return e=parseFloat(e),isNaN(e)||0===e?[0,0,0,0]:[Math.floor(e/60/60),Math.floor(e/60%60),Math.floor(e%60),Math.floor(1e3*e)-1e3*Math.floor(e)]}function f(e){const t=e&&!Number.isInteger(e)?new Date(e).getTime():e;return isNaN(t)||!t?0:t}var y=n(32091),v=n.n(y),_=n(82871);const S="Date param must construct to a valid date instance or be a valid date instance itself.",b="Invalid dateString parameter, it must be a string.",A='Invalid date range, it must be a string with the format "last-x-days".',k=60,C=60*k,x=24*C,w=7*x;function N(){function e(e){return(0,_.sprintf)(/* translators: %s: number of days */ /* translators: %s: number of days */
(0,_._n)("Last %s day","Last %s days",e,"google-site-kit"),e)}return{"last-7-days":{slug:"last-7-days",label:e(7),days:7},"last-14-days":{slug:"last-14-days",label:e(14),days:14},"last-28-days":{slug:"last-28-days",label:e(28),days:28},"last-90-days":{slug:"last-90-days",label:e(90),days:90}}}function I(e=""){if(!(0,i.isString)(e))return!1;if(3!==e.split("-").length)return!1;const t=new Date(e);return(0,i.isDate)(t)&&!isNaN(t)}function T(e){v()((0,i.isDate)(e)&&!isNaN(e),S);const t=`${e.getMonth()+1}`,n=`${e.getDate()}`;return[e.getFullYear(),t.length<2?`0${t}`:t,n.length<2?`0${n}`:n].join("-")}function j(e){v()(I(e),b);const[t,n,i]=e.split("-");return new Date(t,n-1,i)}function D(e,t){return T(E(e,t*x))}function L(e){const t=e.split("-");return 3===t.length&&"last"===t[0]&&!Number.isNaN(t[1])&&!Number.isNaN(parseFloat(t[1]))&&"days"===t[2]}function E(e,t){v()(I(e)||(0,i.isDate)(e)&&!isNaN(e),b);const n=I(e)?Date.parse(e):e.getTime();return new Date(n-1e3*t)}var O=n(69743),R=n(94552),P=n(62540);function M(e,t={}){if(Number.isNaN(Number(e)))return"";const{invertColor:n=!1}=t;return(0,O.Ay)((0,P.jsx)(R.A,{direction:e>0?"up":"down",invertColor:n}))}function G(e,t){return e>0&&t>0?e/t-1:e>0?1:t>0?-1:0}var $=n(8143);function F(e){const t=parseFloat(e)||0;return!!Number.isInteger(t)&&t>0}function U(e){if("number"==typeof e)return!0;const t=(e||"").toString();return!!t&&!isNaN(t)}function V(e){return Array.isArray(e)?[...e].sort():e}var q=n(2522);function H(e,t){function n(e){return"0"===e||0===e}if(n(e)&&n(t))return 0;if(n(e)||Number.isNaN(e))return null;const i=(t-e)/e;return Number.isNaN(i)||!Number.isFinite(i)?null:i}function B(e){try{return JSON.parse(e)&&!!e}catch(e){return!1}}function Z(e){if(!e)return"";const t=e.replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(t)).replace(/(\\)/g,"");return(0,i.unescape)(t)}},13620:e=>{e.exports=googlesitekit.modules},15167:(e,t,n)=>{n.d(t,{A:()=>Typography});var i=n(62688),s=n.n(i),r=n(4452),o=n.n(r),a=n(3714),c=n(62540);function Typography({className:e,type:t,size:n,as:i="span",children:s,...r}){return(0,c.jsx)(i,{className:o()("googlesitekit-typography",e,{[`googlesitekit-typography--${t}`]:t&&a.tT.includes(t),[`googlesitekit-typography--${n}`]:n&&a.oJ.includes(n)}),...r,children:s})}Typography.propTypes={className:s().string,type:s().oneOf(a.tT),size:s().oneOf(a.oJ),as:s().oneOfType([s().string,s().elementType])}},15210:(e,t,n)=>{n.d(t,{O:()=>s});var i=n(31234);const s=n.n(i)()(n.g)},15577:(e,t,n)=>{n.d(t,{SO:()=>l});var i=n(55620),s=n(99123);const r={},o=void 0===n.g?null:n.g;function a(){return[n.g.innerWidth,n.g.innerHeight]}function c(e=r){const{fps:t,leading:n,initialWidth:c=0,initialHeight:l=0}=e,[g,u]=(0,i._)("undefined"==typeof document?[c,l]:a,t,n);function d(){return u(a)}return(0,s.A)(o,"resize",d),(0,s.A)(o,"orientationchange",d),g}function l(e){return c(e)[0]}},16834:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(62688),s=n.n(i),r=n(4452),o=n.n(r),a=n(62540);function VisuallyHidden({className:e,children:t,...n}){return t?(0,a.jsx)("span",{...n,className:o()("screen-reader-text",e),children:t}):null}VisuallyHidden.propTypes={className:s().string,children:s().node},VisuallyHidden.defaultProps={className:""};const c=VisuallyHidden},17691:(e,t,n)=>{n.d(t,{A:()=>o,G:()=>r});var i=n(62688),s=n.n(i);const r=" ";function DisplaySetting({value:e}){return e||r}DisplaySetting.propTypes={value:s().oneOfType([s().string,s().bool,s().number])};const o=DisplaySetting},19793:(e,t,n)=>{n.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var i,s=n(63696);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=e=>s.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),i||(i=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1m4.806 8.592.592-.806-1.612-1.184-.592.806-3.89 5.296c-.166.226-.36.296-.512.296s-.346-.07-.512-.296l-1.474-2.007-.592-.806-1.612 1.184.592.806 1.474 2.007C9.191 15.6 9.971 16 10.792 16s1.6-.4 2.124-1.112z",clipRule:"evenodd"})))},20898:(e,t,n)=>{n.d(t,{A:()=>I});var i,s=n(4452),r=n.n(s),o=n(62688),a=n.n(o),c=n(39941),l=n(63696),g=n(82871);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u.apply(null,arguments)}const d=e=>l.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 13"},e),i||(i=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("circle",{cx:6.5,cy:6.5,r:6.5,fill:"currentColor"}),l.createElement("path",{fill:"#FFF",d:"M3.461 6.96h5.15L6.36 9.21a.464.464 0 0 0 .325.79.46.46 0 0 0 .325-.135l3.037-3.038a.46.46 0 0 0 0-.65L7.015 3.135a.46.46 0 0 0-.65.65L8.61 6.039H3.461a.46.46 0 0 0-.461.46c0 .254.207.462.461.462z"}),".")));var m;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p.apply(null,arguments)}const h=e=>l.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 13"},e),m||(m=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("circle",{cx:6.5,cy:6.5,r:6.5,fill:"#FFF"}),l.createElement("path",{fill:"currentColor",d:"M3.461 6.96h5.15L6.36 9.21a.464.464 0 0 0 .325.79.46.46 0 0 0 .325-.135l3.037-3.038a.46.46 0 0 0 0-.65L7.015 3.135a.46.46 0 0 0-.65.65L8.61 6.039H3.461a.46.46 0 0 0-.461.46c0 .254.207.462.461.462z"}),".")));var f;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},y.apply(null,arguments)}const v=e=>l.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24"},e),f||(f=l.createElement("path",{d:"m12 20-8-8 8-8 1.425 1.4-5.6 5.6H20v2H7.825l5.6 5.6z"})));var _=n(83366),S=n(84385),b=n(62540);const A="BUTTON",k="BUTTON_DISABLED",C="EXTERNAL_LINK",x="LINK",w="ROUTER_LINK",N=(0,l.forwardRef)((e,t)=>{const{"aria-label":n,secondary:i=!1,arrow:s=!1,back:o=!1,caps:a=!1,children:l,className:u="",danger:m=!1,disabled:p=!1,external:f=!1,hideExternalIndicator:y=!1,href:N="",inverse:I=!1,noFlex:T=!1,onClick:j,small:D=!1,standalone:L=!1,linkButton:E=!1,to:O,leadingIcon:R,trailingIcon:P,...M}=e;const G=N||O||!j?O?w:f?C:x:p?k:A;const $=G===A||G===k?"button":G===w?c.N_:"a",F=function(){let e;return G===C&&(e=(0,g._x)("(opens in a new tab)","screen reader text","google-site-kit")),G===k&&(e=(0,g._x)("(disabled)","screen reader text","google-site-kit")),e?n?`${n} ${e}`:"string"==typeof l?`${l} ${e}`:void 0:n}();let U=R,V=P;return o&&(U=(0,b.jsx)(v,{width:14,height:14})),f&&!y&&(V=(0,b.jsx)(_.A,{width:14,height:14})),s&&!I&&(V=(0,b.jsx)(d,{width:14,height:14})),s&&I&&(V=(0,b.jsx)(h,{width:14,height:14})),(0,b.jsxs)($,{"aria-label":F,className:r()("googlesitekit-cta-link",u,{"googlesitekit-cta-link--secondary":i,"googlesitekit-cta-link--inverse":I,"googlesitekit-cta-link--small":D,"googlesitekit-cta-link--caps":a,"googlesitekit-cta-link--danger":m,"googlesitekit-cta-link--disabled":p,"googlesitekit-cta-link--standalone":L,"googlesitekit-cta-link--link-button":E,"googlesitekit-cta-link--no-flex":!!T}),disabled:p,href:G!==x&&G!==C||p?void 0:N,onClick:j,rel:G===C?"noopener noreferrer":void 0,ref:t,target:G===C?"_blank":void 0,to:O,...M,children:[!!U&&(0,b.jsx)(S.A,{marginRight:5,children:U}),(0,b.jsx)("span",{className:"googlesitekit-cta-link__contents",children:l}),!!V&&(0,b.jsx)(S.A,{marginLeft:5,children:V})]})});N.propTypes={arrow:a().bool,back:a().bool,caps:a().bool,children:a().node,className:a().string,danger:a().bool,disabled:a().bool,external:a().bool,hideExternalIndicator:a().bool,href:a().string,inverse:a().bool,leadingIcon:a().node,linkButton:a().bool,noFlex:a().bool,onClick:a().func,small:a().bool,standalone:a().bool,to:a().string,trailingIcon:a().node};const I=N},21125:(e,t,n)=>{n.d(t,{g4:()=>h,o1:()=>p});var i=n(78913),s=n(32091),r=n.n(s),o=n(10523),a=n.n(o),c=n(12850),l=n(50539);const g="RECEIVE_ERROR",u="CLEAR_ERROR",d="CLEAR_ERRORS";function m(e,t){if(t&&Array.isArray(t)){const n=t.map(e=>"object"==typeof e?(0,c.Zm)(e):e);return`${e}::${a()(JSON.stringify(n))}`}return e}const p={receiveError:(e,t,n=[])=>(r()(e,"error is required."),r()(t,"baseName is required."),r()(n&&Array.isArray(n),"args must be an array."),{type:g,payload:{error:e,baseName:t,args:n}}),clearError:(e,t=[])=>(r()(e,"baseName is required."),r()(t&&Array.isArray(t),"args must be an array."),{type:u,payload:{baseName:e,args:t}}),clearErrors:e=>({type:d,payload:{baseName:e}})};function h(e){r()(e,"storeName must be defined.");const t=(0,l.createReducer)((e,{type:t,payload:n})=>{switch(t){case g:{const{baseName:t,args:i,error:s}=n,r=m(t,i);e.errors=e.errors||{},e.errorArgs=e.errorArgs||{},e.errors[r]=s,e.errorArgs[r]=i;break}case u:{const{baseName:t,args:i}=n,s=m(t,i);e.errors=e.errors||{},e.errorArgs=e.errorArgs||{},delete e.errors[s],delete e.errorArgs[s];break}case d:{const{baseName:t}=n;if(t){e.errors=e.errors||{},e.errorArgs=e.errorArgs||{};for(const n in e.errors)(n===t||n.startsWith(`${t}::`))&&(delete e.errors[n],delete e.errorArgs[n])}else e.errors={},e.errorArgs={};break}}}),n={getErrorForSelector:(e,t,i=[])=>(r()(t,"selectorName is required."),n.getError(e,t,i)),getErrorForAction:(e,t,i=[])=>(r()(t,"actionName is required."),n.getError(e,t,i)),getError(e,t,n){const{errors:i}=e;return r()(t,"baseName is required."),i[m(t,n)]},getErrors(e){const t=new Set(Object.values(e.errors));return Array.from(t)},getMetaDataForError(e,t){const n=Object.keys(e.errors).find(n=>e.errors[n]===t);if(n){return{baseName:n.substring(0,n.indexOf("::")),args:e.errorArgs[n]}}return null},getSelectorDataForError:(0,i.N)(t=>function(n,i){const s=t(e).getMetaDataForError(i);if(s){const{baseName:n,args:i}=s;if(!!t(e)[n])return{storeName:e,name:n,args:i}}return null}),hasErrors:e=>n.getErrors(e).length>0};return{initialState:{errors:{},errorArgs:{}},actions:p,controls:{},reducer:t,resolvers:{},selectors:n}}},21134:(e,t,n)=>{n.d(t,{Gq:()=>u,IL:()=>h,LD:()=>m,SO:()=>d,a2:()=>s,xD:()=>p});var i=n(12850);const s="googlesitekit_",r=`${s}1.164.0_${n.g._googlesitekitBaseData.storagePrefix}_`,o=["sessionStorage","localStorage"];let a,c=[...o];async function l(e){const t=n.g[e];if(!t)return!1;try{const e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==t.length}}async function g(){if(void 0!==a)return a;for(const e of c)a||await l(e)&&(a=n.g[e]);return void 0===a&&(a=null),a}async function u(e){const t=await g();if(t){const n=t.getItem(`${r}${e}`);if(n){const e=JSON.parse(n),{timestamp:t,ttl:i,value:s,isError:r}=e;if(t&&(!i||Math.round(Date.now()/1e3)-t<i))return{cacheHit:!0,value:s,isError:r}}}return{cacheHit:!1,value:void 0}}async function d(e,t,{ttl:s=i.Jg,timestamp:o=Math.round(Date.now()/1e3),isError:a=!1}={}){const c=await g();if(c)try{return c.setItem(`${r}${e}`,JSON.stringify({timestamp:o,ttl:s,value:t,isError:a})),!0}catch(e){return n.g.console.warn("Encountered an unexpected storage error:",e),!1}return!1}async function m(e){const t=await g();if(t)try{const n=e.startsWith(s)?e:`${r}${e}`;return t.removeItem(n),!0}catch(e){return n.g.console.warn("Encountered an unexpected storage error:",e),!1}return!1}async function p(){const e=await g();if(e)try{const t=[];for(let n=0;n<e.length;n++){const i=e.key(n);0===i.indexOf(s)&&t.push(i)}return t}catch(e){return n.g.console.warn("Encountered an unexpected storage error:",e),[]}return[]}async function h(){if(await g()){const e=await p();for(const t of e)await m(t);return!0}return!1}},22242:(e,t,n)=>{n.d(t,{B7:()=>A,FK:()=>b,JG:()=>_,VM:()=>k,Wq:()=>h,hk:()=>S,mV:()=>p});var i=n(32091),s=n.n(i),r=n(17243),o=n(54419),a=n(50539),c=n(47121),l=n(71769),g=n(3687),u=n(21125);const{clearError:d,receiveError:m}=u.o1,p="cannot submit changes while submitting changes",h="cannot submit changes if settings have not changed",f="SET_SETTINGS",y="ROLLBACK_SETTINGS",v="ROLLBACK_SETTING";function _(e,t,n,{ownedSettingsSlugs:i,storeName:u,settingSlugs:p=[],initialSettings:h,validateHaveSettingsChanged:_=k()}={}){s()(e,"type is required."),s()(t,"identifier is required."),s()(n,"datapoint is required.");const S=u||`${e}/${t}`,b={ownedSettingsSlugs:i,settings:h,savedSettings:void 0},A=(0,g.U)({baseName:"getSettings",controlCallback:()=>(0,o.get)(e,t,n,{},{useCache:!1}),reducerCallback:(0,a.createReducer)((e,t)=>{e.savedSettings={...t},e.settings={...t,...e.settings||{}}})}),C=(0,g.U)({baseName:"saveSettings",controlCallback:i=>{const{values:s}=i;return(0,o.set)(e,t,n,s)},reducerCallback:(0,a.createReducer)((e,t)=>{e.savedSettings={...t},e.settings={...t}}),argsToParams:e=>({values:e}),validateParams:({values:e}={})=>{s()((0,r.isPlainObject)(e),"values is required.")}}),x={},w={setSettings:e=>(s()((0,r.isPlainObject)(e),"values is required."),{payload:{values:e},type:f}),rollbackSettings:()=>({payload:{},type:y}),rollbackSetting:e=>(s()(e,"setting is required."),{payload:{setting:e},type:v}),*saveSettings(){const e=yield a.commonActions.getRegistry();yield d("saveSettings",[]);const t=e.select(S).getSettings(),{response:n,error:i}=yield C.actions.fetchSaveSettings(t);return i&&(yield m(i,"saveSettings",[])),{response:n,error:i}}},N=(0,a.createReducer)((e,{type:t,payload:n})=>{switch(t){case f:{const{values:t}=n;e.settings={...e.settings||{},...t};break}case y:e.settings=e.savedSettings;break;case v:{const{setting:t}=n;e.savedSettings[t]&&(e.settings={...e.settings||{},[t]:e.savedSettings[t]});break}default:void 0!==x[t]&&x[t](e,{type:t,payload:n})}}),I={*getSettings(){(yield a.commonActions.getRegistry()).select(S).getSettings()||(yield A.actions.fetchGetSettings())}},{safeSelector:T,dangerousSelector:j}=(0,c.RF)(_),D={haveSettingsChanged:T,__dangerousHaveSettingsChanged:j,getSettings:e=>e.settings,hasSettingChanged(e,t){s()(t,"setting is required.");const{settings:n,savedSettings:i}=e;return!(!n||!i)&&!(0,r.isEqual)(n[t],i[t])},isDoingSaveSettings:e=>Object.values(e.isFetchingSaveSettings).some(Boolean),getOwnedSettingsSlugs:e=>e.ownedSettingsSlugs,haveOwnedSettingsChanged:(0,a.createRegistrySelector)(e=>()=>{const t=e(S).getOwnedSettingsSlugs();return e(S).haveSettingsChanged(t)})};p.forEach(e=>{const t=(0,l.m2)(e),n=(0,l.sP)(e);w[`set${t}`]=e=>(s()(void 0!==e,`value is required for calls to set${t}().`),{payload:{value:e},type:`SET_${n}`}),x[`SET_${n}`]=(t,{payload:n})=>{const{value:i}=n;t.settings={...t.settings||{},[e]:i}},D[`get${t}`]=(0,a.createRegistrySelector)(t=>()=>(t(S).getSettings()||{})[e])});return{...(0,a.combineStores)(a.commonStore,A,C,{initialState:b,actions:w,controls:{},reducer:N,resolvers:I,selectors:D}),STORE_NAME:S}}function S(e,t){return async({select:n,dispatch:i})=>{if(n(t).haveSettingsChanged()){const{error:e}=await i(t).saveSettings();if(e)return{error:e}}return await(0,o.invalidateCache)("modules",e),{}}}function b(e){return({select:t,dispatch:n})=>t(e).haveSettingsChanged()?n(e).rollbackSettings():{}}function A(e){return t=>{const n=(0,c.WI)(t),{haveSettingsChanged:i,isDoingSubmitChanges:r}=n(e);s()(!r(),p),s()(i(),h)}}function k(){return(e,t,n)=>{const{settings:i,savedSettings:o}=t;n&&s()(!(0,r.isEqual)((0,r.pick)(i,n),(0,r.pick)(o,n)),h),s()(!(0,r.isEqual)(i,o),h)}}},24558:(e,t,n)=>{n.d(t,{Ax:()=>r,CZ:()=>g,Ej:()=>k,Gw:()=>C,Is:()=>o,KK:()=>d,Nn:()=>w,OT:()=>b,SH:()=>S,Y$:()=>m,ZS:()=>a,bg:()=>f,en:()=>A,ep:()=>h,f7:()=>s,hi:()=>p,jU:()=>i,k$:()=>v,kz:()=>x,ly:()=>c,mo:()=>y,s3:()=>_,uR:()=>l,zx:()=>u});const i="mainDashboard",s="entityDashboard",r="mainDashboardViewOnly",o="entityDashboardViewOnly",a="userInput",c="activation",l="splash",g="adminBar",u="adminBarViewOnly",d="settings",m="adBlockingRecovery",p="wpDashboard",h="wpDashboardViewOnly",f="moduleSetup",y="metricSelection",v="wpBlockEditor",_="keyMetricsSetup",S="key-metrics",b="traffic",A="content",k="speed",C="monetization",x=[i,s,r,o,a,l,d,f,y],w=[r,o,u,h]},27333:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(35470),s=n(78340);function r(e,t){return(0,i.A)(n=>{const{getValue:i}=n(s.s);return i(e,t)},[e,t])}},30427:(e,t,n)=>{n.d(t,{A:()=>SettingsGroup});var i=n(62688),s=n.n(i),r=n(15167),o=n(62540);function SettingsGroup({title:e,children:t}){return(0,o.jsxs)("div",{className:"googlesitekit-module-settings-group",children:[(0,o.jsx)(r.A,{as:"h4",size:"medium",type:"title",children:e}),t]})}SettingsGroup.propTypes={title:s().string.isRequired,children:s().node.isRequired}},30679:(e,t,n)=>{n.d(t,{A:()=>StoreErrorNotices});var i=n(62688),s=n.n(i),r=n(50539),o=n(77967),a=n(37226),c=n(67150),l=n(65311),g=n(62540);function StoreErrorNotices({hasButton:e=!1,moduleSlug:t,storeName:n}){const i=(0,r.useSelect)(e=>e(n).getErrors()),s=(0,r.useSelect)(e=>e(a.i).getModule(t)),u=[];return i.filter(e=>!(!e?.message||u.includes(e.message))&&(u.push(e.message),!0)).map((t,i)=>{let{message:r}=t;return(0,c.SG)(t)&&(r=(0,l.c)(r,s)),(0,g.jsx)(o.A,{error:t,hasButton:e,storeName:n,message:r},i)})}StoreErrorNotices.propTypes={hasButton:s().bool,storeName:s().string.isRequired,moduleSlug:s().string}},31199:(e,t,n)=>{n.d(t,{d:()=>g});var i=n(32091),s=n.n(i),r=n(50539),o=n(93896),a=n(11965);const c="FETCH_GET_EXISTING_TAG",l="RECEIVE_GET_EXISTING_TAG";function g({storeName:e,isValidTag:t,tagMatchers:n}={}){s()("string"==typeof e&&e,"storeName is required."),s()("function"==typeof t,"isValidTag must be a function."),s()(Array.isArray(n),"tagMatchers must be an Array.");const i={existingTag:void 0},g={fetchGetExistingTag:()=>({payload:{},type:c}),receiveGetExistingTag:e=>(s()(null===e||"string"==typeof e,"existingTag must be a tag string or null."),{payload:{existingTag:t(e)?e:null},type:l})},u={[c]:(0,r.createRegistryControl)(e=>async()=>{const t=e.select(o.O4).getHomeURL(),i=e.select(o.O4).getAMPMode(),s=await(0,a.g)({homeURL:t,ampMode:i}),{getHTMLForURL:r}=e.resolveSelect(o.O4);for(const e of s){const t=await r(e),i=(0,a.N)(t,n);if(i)return i}return null})},d=(0,r.createReducer)((e,{type:t,payload:n})=>{switch(t){case l:{const{existingTag:t}=n;e.existingTag=t;break}}}),m={*getExistingTag(){const t=yield r.commonActions.getRegistry();if(void 0===t.select(e).getExistingTag()){const n=yield g.fetchGetExistingTag();t.dispatch(e).receiveGetExistingTag(n)}}},p={getExistingTag:e=>e.existingTag,hasExistingTag:(0,r.createRegistrySelector)(t=>()=>{const n=t(e).getExistingTag();if(void 0!==n)return!!n})};return{...{initialState:i,actions:g,controls:u,reducer:d,resolvers:m,selectors:p},STORE_NAME:e}}},32947:(e,t,n)=>{n.d(t,{Fo:()=>r,Lg:()=>o,Qb:()=>s,dv:()=>c,mp:()=>a});var i=n(15577);const s="xlarge",r="desktop",o="tablet",a="small";function c(){const e=(0,i.SO)();return e>1280?s:e>960?r:e>600?o:a}},37226:(e,t,n)=>{n.d(t,{U:()=>s,i:()=>i});const i="core/modules",s="insufficient_module_dependencies"},40127:(e,t,n)=>{function i(e,t,n=()=>!0){return"string"==typeof e?n(e):!("object"!=typeof e||!t(e))||!!Array.isArray(e)&&e.every(e=>"string"==typeof e?n(e):"object"==typeof e&&t(e))}function s({startDate:e,endDate:t}){const n=e&&e.match(/^\d{4}-\d{2}-\d{2}$/),i=t&&t.match(/^\d{4}-\d{2}-\d{2}$/);return n&&i}function r(e){function t(e){const t=e.hasOwnProperty("fieldName")&&!!e.fieldName,n=e.hasOwnProperty("sortOrder")&&/(ASCENDING|DESCENDING)/i.test(e.sortOrder.toString());return t&&n}return Array.isArray(e)?e.every(e=>"object"==typeof e&&t(e)):"object"==typeof e&&t(e)}function o(e){return"string"==typeof e||!!Array.isArray(e)&&e.every(e=>"string"==typeof e)}n.d(t,{G4:()=>r,O5:()=>s,cX:()=>i,cq:()=>o})},40761:(e,t,n)=>{n.d(t,{H:()=>i});const i="tagmanager"},41566:(e,t,n)=>{n.d(t,{A:()=>GoogleTagGatewayToggle});var i=n(4452),s=n.n(i),r=n(15844),o=n(63696),a=n(13606),c=n(82871),l=n(49383),g=n(50539),u=n(93896),d=n(2362),m=n(20898),p=n(77766),h=n(12850),f=n(61046),y=n(80035),v=n(62540);const _=(0,f.A)(y.A);function GoogleTagGatewayToggle({className:e}){const t=(0,p.A)(),n=(0,g.useSelect)(e=>e(u.O4).isGoogleTagGatewayEnabled()),i=(0,g.useSelect)(e=>e(u.O4).isFetchingGetGTGServerRequirementStatus()),f=(0,g.useSelect)(e=>{const{isGTGHealthy:t,isScriptAccessEnabled:n}=e(u.O4);return!1!==t()&&!1!==n()}),{fetchGetGTGServerRequirementStatus:S,setGoogleTagGatewayEnabled:b}=(0,g.useDispatch)(u.O4),A=(0,g.useSelect)(e=>e(u.O4).getDocumentationLinkURL("google-tag-gateway-introduction")),k=(0,g.useSelect)(e=>e(u.O4).getDocumentationLinkURL("google-tag-gateway-server-requirements"));(0,r.A)(S);const C=(0,o.useCallback)(()=>{const e=n?"deactivate_google_tag_gateway":"activate_google_tag_gateway";(0,h.sx)(`${t}_gtg-settings-toggle`,e).finally(()=>{b(!n)})},[n,b,t]);return(0,v.jsxs)("div",{className:s()("googlesitekit-google-tag-gateway-toggle",e),children:[i&&(0,v.jsx)(l.ProgressBar,{className:"googlesitekit-google-tag-gateway-toggle__progress",small:!0}),!i&&(0,v.jsxs)("div",{className:"googlesitekit-module-settings-group__switch",children:[(0,v.jsx)(l.Switch,{label:(0,c.__)("Google tag gateway for advertisers","google-site-kit"),checked:!!n&&f,disabled:!f,onClick:C,hideLabel:!1}),(0,v.jsx)("div",{className:"googlesitekit-google-tag-gateway-toggle__switch-badge",children:(0,v.jsx)(d.A,{className:"googlesitekit-badge--beta",label:(0,c.__)("Beta","google-site-kit"),hasLeftSpacing:!0})})]}),(0,v.jsx)("p",{className:"googlesitekit-module-settings-group__helper-text",children:(0,a.A)((0,c.__)("Your tag data will be sent through your own domain to improve data quality and help you recover measurement signals. <a>Learn more</a>","google-site-kit"),{a:(0,v.jsx)(m.A,{href:A,onClick:()=>{(0,h.sx)(`${t}_gtg-settings-toggle`,"click_learn_more_link")},"aria-label":(0,c.__)("Learn more about Google tag gateway for advertisers","google-site-kit"),external:!0})})}),!i&&!f&&(0,v.jsx)(_,{type:y.A.TYPES.WARNING,title:(0,a.A)((0,c.__)("Your server’s current settings prevent Google tag gateway for advertisers from working. To enable it, please contact your hosting provider and request access to external resources and plugin files. <a>Learn more</a>","google-site-kit"),{a:(0,v.jsx)(m.A,{href:k,onClick:()=>{(0,h.sx)(`${t}_gtg-settings-toggle-disabled`,"click_learn_more_link")},"aria-label":(0,c.__)("Learn more about Google tag gateway for advertisers server requirements","google-site-kit"),external:!0})}),variant:"warning",onInView:()=>{(0,h.sx)(`${t}_gtg-settings-toggle-disabled`,"view_notice")}})]})}},42343:(e,t,n)=>{n.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var i,s=n(63696);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=e=>s.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),i||(i=s.createElement("path",{fill:"currentColor",d:"m5.825 22 2.325-7.6L2 10h7.6L12 2l2.4 8H22l-6.15 4.4 2.325 7.6L12 17.3z"})))},42926:(e,t,n)=>{n.d(t,{A:()=>g});var i=n(19371),s=n(31638);const r=function(e){const t=Object.keys(e).reduce((t,n)=>(t[(0,s.getStablePath)(n)]=e[n],t),{});let n=!1;return(e,i)=>{if(n)return i(e);setTimeout(()=>{n=!0},3e3);const{parse:r=!0}=e,o=e.path;if("string"==typeof e.path){const n=e.method?.toUpperCase()||"GET",i=(0,s.getStablePath)(o);if(r&&"GET"===n&&t[i]){const e=Promise.resolve(t[i].body);return delete t[i],e}if("OPTIONS"===n&&t[n]&&t[n][i]){const e=Promise.resolve(t[n][i]);return delete t[n][i],e}}return i(e)}},{nonce:o,nonceEndpoint:a,preloadedData:c,rootURL:l}=n.g._googlesitekitAPIFetchData||{};i.default.nonceEndpoint=a,i.default.nonceMiddleware=i.default.createNonceMiddleware(o),i.default.rootURLMiddleware=i.default.createRootURLMiddleware(l),i.default.preloadingMiddleware=r(c),i.default.use(i.default.nonceMiddleware),i.default.use(i.default.mediaUploadMiddleware),i.default.use(i.default.rootURLMiddleware),i.default.use(i.default.preloadingMiddleware);const g=i.default},45472:(e,t,n)=>{n.d(t,{M:()=>i});const i="core/location"},47121:(e,t,n)=>{n.d(t,{$C:()=>N,RF:()=>w,WI:()=>C,_5:()=>b,jU:()=>S,o3:()=>_,x0:()=>k});var i=n(32091),s=n.n(i),r=n(50532),o=n.n(r),a=n(17243),c=n(78913);const l="GET_REGISTRY",g="AWAIT";function u(...e){const t=e.reduce((e,t)=>({...e,...t}),{}),n=A(e.reduce((e,t)=>[...e,...Object.keys(t)],[]));return s()(0===n.length,`collect() cannot accept collections with duplicate keys. Your call to collect() contains the following duplicated functions: ${n.join(", ")}. Check your data stores for duplicates.`),t}const d=u,m=u;function p(...e){const t=[...e];let n;return"function"!=typeof t[0]&&(n=t.shift()),(e=n,i={})=>t.reduce((e,t)=>t(e,i),e)}const h=u,f=u,y=u;function v(e){return e}function _(...e){const t=y(...e.map(e=>e.initialState||{}));return{initialState:t,controls:m(...e.map(e=>e.controls||{})),actions:d(...e.map(e=>e.actions||{})),reducer:p(t,...e.map(e=>e.reducer||v)),resolvers:h(...e.map(e=>e.resolvers||{})),selectors:f(...e.map(e=>e.selectors||{}))}}const S={getRegistry:()=>({payload:{},type:l}),*await(e){return{payload:{value:e},type:g}}},b={[l]:(0,c.b)(e=>()=>e),[g]:({payload:e})=>e.value};function A(e){const t=[],n={};for(let i=0;i<e.length;i++){const s=e[i];n[s]=n[s]>=1?n[s]+1:1,n[s]>1&&t.push(s)}return t}const k={actions:S,controls:b,reducer:v};function C(e){return t=>x(e(t))}const x=o()(e=>(0,a.mapValues)(e,(e,t)=>(...n)=>{const i=e(...n);return s()(void 0!==i,`${t}(...) is not resolved`),i}));function w(e,{negate:t=!1}={}){return{safeSelector:(0,c.N)(n=>(i,...s)=>{const r=!t,o=!!t;try{return e(n,i,...s),r}catch{return o}}),dangerousSelector:(0,c.N)(t=>(n,...i)=>{e(t,n,...i)})}}function N(e,t){return s()("function"==typeof e,"a validator function is required."),s()("function"==typeof t,"an action creator function is required."),s()("Generator"!==e[Symbol.toStringTag]&&"GeneratorFunction"!==e[Symbol.toStringTag],"an action’s validator function must not be a generator."),(...n)=>(e(...n),t(...n))}},49383:e=>{e.exports=googlesitekit.components},49655:(e,t,n)=>{n.d(t,{Q:()=>i});const i={NEW:"new",SUCCESS:"success",WARNING:"warning",INFO:"info",ERROR:"error"}},50539:e=>{e.exports=googlesitekit.data},53137:(e,t,n)=>{n.d(t,{FQ:()=>r,He:()=>a,bI:()=>o,rq:()=>s,ui:()=>i});const i="warning-notification-gtg",s="gtg-setup-cta",r={ERROR_HIGH:30,ERROR_LOW:60,WARNING:100,INFO:150,SETUP_CTA_HIGH:150,SETUP_CTA_LOW:200},o={HEADER:"notification-area-header",DASHBOARD_TOP:"notification-area-dashboard-top",OVERLAYS:"notification-area-overlays"},a={DEFAULT:"default",SETUP_CTAS:"setup-ctas"}},54419:e=>{e.exports=googlesitekit.api},58116:(e,t,n)=>{n.d(t,{$8:()=>o,$Q:()=>m,BT:()=>E,CQ:()=>w,DF:()=>Z,GM:()=>x,GT:()=>v,HA:()=>M,HD:()=>d,HP:()=>L,J5:()=>$,JF:()=>I,JK:()=>f,Ml:()=>h,SS:()=>O,UF:()=>g,UY:()=>q,Vl:()=>R,W6:()=>B,Xq:()=>N,YQ:()=>T,Yw:()=>V,dV:()=>D,dX:()=>C,ej:()=>l,em:()=>r,ep:()=>A,fu:()=>S,gC:()=>_,hz:()=>p,jx:()=>u,lV:()=>c,nH:()=>G,oR:()=>i,od:()=>a,p3:()=>y,pG:()=>k,qv:()=>s,qy:()=>j,t1:()=>H,t7:()=>U,tB:()=>b,tK:()=>F,u_:()=>P});const i="core/user",s="connected_url_mismatch",r="__global",o="temporary_persist_permission_error",a="adblocker_active",c=["weekly","monthly","quarterly"],l="googlesitekit_authenticate",g="googlesitekit_setup",u="googlesitekit_view_dashboard",d="googlesitekit_manage_options",m="googlesitekit_read_shared_module_data",p="googlesitekit_manage_module_sharing_options",h="googlesitekit_delegate_module_sharing_management",f="googlesitekit_update_plugins",y="kmAnalyticsAdSenseTopEarningContent",v="kmAnalyticsEngagedTrafficSource",_="kmAnalyticsLeastEngagingPages",S="kmAnalyticsNewVisitors",b="kmAnalyticsPopularAuthors",A="kmAnalyticsPopularContent",k="kmAnalyticsPopularProducts",C="kmAnalyticsReturningVisitors",x="kmAnalyticsTopCities",w="kmAnalyticsTopCitiesDrivingLeads",N="kmAnalyticsTopCitiesDrivingAddToCart",I="kmAnalyticsTopCitiesDrivingPurchases",T="kmAnalyticsTopDeviceDrivingPurchases",j="kmAnalyticsTopConvertingTrafficSource",D="kmAnalyticsTopCountries",L="kmAnalyticsTopPagesDrivingLeads",E="kmAnalyticsTopRecentTrendingPages",O="kmAnalyticsTopTrafficSource",R="kmAnalyticsTopTrafficSourceDrivingAddToCart",P="kmAnalyticsTopTrafficSourceDrivingLeads",M="kmAnalyticsTopTrafficSourceDrivingPurchases",G="kmAnalyticsPagesPerVisit",$="kmAnalyticsVisitLength",F="kmAnalyticsTopReturningVisitorPages",U="kmSearchConsolePopularKeywords",V="kmAnalyticsVisitsPerVisitor",q="kmAnalyticsMostEngagingPages",H="kmAnalyticsTopCategories",B=[y,v,_,S,b,A,k,C,H,x,w,N,I,T,j,D,E,O,R,G,$,F,V,q,H],Z=[...B,U]},59323:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(62688),s=n.n(i),r=n(32947),o=n(15167),a=n(3714),c=n(62540);function l({type:e=a.SZ,size:t,children:n,...i}){const s=(0,r.dv)();return(0,c.jsx)(o.A,{as:"p",type:e,size:t||(s===r.mp?a.Kk:a.Yw),...i,children:n})}l.propTypes={type:s().oneOf(a.tT),size:s().oneOf(a.oJ)}},59834:(e,t,n)=>{n.d(t,{A:()=>AccessibleWarningIcon});var i=n(62688),s=n.n(i),r=n(63696),o=n(82871),a=n(16834),c=n(3170),l=n(62540);function AccessibleWarningIcon({height:e=12,screenReaderText:t=(0,o.__)("Error","google-site-kit"),width:n=14}){return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(a.A,{children:t}),(0,l.jsx)(c.A,{width:n,height:e})]})}AccessibleWarningIcon.propTypes={height:s().number,screenReaderText:s().string,width:s().number}},61046:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(63560),s=n(62688),r=n.n(s),o=n(63696),a=n(62540);function c(e){function WithIntersectionObserverComponent({onInView:t,...n}){const s=(0,o.useRef)(),r=(0,i.A)(s,{root:null,threshold:.45}),[c,l]=(0,o.useState)(!1),g=!!r?.isIntersecting&&!!r?.intersectionRatio;return(0,o.useEffect)(()=>{r&&g&&!c&&(t(),l(!0))},[c,g,r,t]),(0,a.jsx)(e,{ref:s,...n})}return WithIntersectionObserverComponent.displayName="WithIntersectionObserverComponent",(e.displayName||e.name)&&(WithIntersectionObserverComponent.displayName+=`(${e.displayName||e.name})`),WithIntersectionObserverComponent.propTypes={onInView:r().func.isRequired,...e.propTypes},WithIntersectionObserverComponent}},61991:(e,t,n)=>{n.d(t,{Ay:()=>o,Kq:()=>r});const i=(0,n(63696).createContext)(""),{Consumer:s,Provider:r}=i,o=i},64067:(e,t,n)=>{n.d(t,{P9:()=>y,k:()=>p,mR:()=>f});var i=n(32091),s=n.n(i),r=n(17243),o=n(50539),a=n.n(o),c=n(21134),l=n(12850);const g="CREATE_SNAPSHOT",u="DELETE_SNAPSHOT",d="RESTORE_SNAPSHOT",m="SET_STATE_FROM_SNAPSHOT";function p(e,{keysToSnapshot:t}={}){s()(e,"storeName is required to create a snapshot store.");const n={},i={*deleteSnapshot(){return yield{payload:{},type:u}},*restoreSnapshot(e={}){const{clearAfterRestore:t=!0}=e,{cacheHit:n,value:i}=yield{payload:{},type:d};return n&&(yield{payload:{snapshot:i},type:m},t&&(yield{payload:{},type:u})),n},*createSnapshot(){return yield{payload:{},type:g}}},a={[u]:()=>(0,c.LD)(`datastore::cache::${e}`),[g]:(0,o.createRegistryControl)(n=>()=>{const i=n.stores[e].store.getState(),s=t?.length>0?(0,r.pick)(i,t):i;return(0,c.SO)(`datastore::cache::${e}`,s)}),[d]:()=>(0,c.Gq)(`datastore::cache::${e}`,l.Jg)};return{initialState:n,actions:i,controls:a,reducer:function(e=n,{type:i,payload:s}){if(i===m){const{snapshot:n}=s,{error:i,...r}=n;return t?.length>0?{...e,...r}:r}return e}}}function h(e=a()){return Object.values(e.stores).filter(e=>Object.keys(e.getActions()).includes("restoreSnapshot"))}function f(e=a()){return Promise.all(h(e).map(e=>e.getActions().createSnapshot()))}function y(e=a()){return Promise.all(h(e).map(e=>e.getActions().restoreSnapshot()))}},65214:(e,t,n)=>{n.d(t,{G:()=>s,t:()=>i});const i=new Set(n.g?._googlesitekitBaseData?.enabledFeatures||[]);function s(e,t=i){return t instanceof Set&&t.has(e)}},65311:(e,t,n)=>{n.d(t,{c:()=>o});var i=n(82871),s=n(97398),r=n(99897);function o(e="",t={}){const{slug:n="",name:o="",owner:a={}}=t||{};if(!n||!o)return e;let c="",l="";return r.L1===n?e.match(/account/i)?c=(0,i.__)("Your Google account does not have sufficient permissions for this Analytics account, so you won’t be able to see stats from it on the Site Kit dashboard.","google-site-kit"):e.match(/property/i)?c=(0,i.__)("Your Google account does not have sufficient permissions for this Analytics property, so you won’t be able to see stats from it on the Site Kit dashboard.","google-site-kit"):e.match(/view/i)&&(c=(0,i.__)("Your Google account does not have sufficient permissions for this Analytics view, so you won’t be able to see stats from it on the Site Kit dashboard.","google-site-kit")):s.Y===n&&(c=(0,i.__)("Your Google account does not have sufficient permissions for this Search Console property, so you won’t be able to see stats from it on the Site Kit dashboard.","google-site-kit")),c||(c=(0,i.sprintf)(/* translators: %s: module name */ /* translators: %s: module name */
(0,i.__)("Your Google account does not have sufficient permissions to access %s data, so you won’t be able to see stats from it on the Site Kit dashboard.","google-site-kit"),o)),a&&a.login&&(l=(0,i.sprintf)(/* translators: %s: owner name */ /* translators: %s: owner name */
(0,i.__)('This service was originally connected by the administrator "%s" — you can contact them for more information.',"google-site-kit"),a.login)),l||(l=(0,i.__)("This service was originally connected by an administrator — you can contact them for more information.","google-site-kit")),`${c} ${l}`}},67150:(e,t,n)=>{n.d(t,{G:()=>l,HY:()=>u,SG:()=>g,db:()=>s,e4:()=>m,vl:()=>d});n(17243);var i=n(82871);const s="missing_required_scopes",r="insufficientPermissions",o="forbidden",a="internal_server_error",c="invalid_json";function l(e){return e?.code===s}function g(e){return[r,o].includes(e?.data?.reason)}function u(e){return!!e?.data?.reconnectURL}function d(e,t){return!(!t?.storeName||g(e)||l(e)||u(e))}function m(e){return e?.code===a?(0,i.__)("There was a critical error on this website while fetching data","google-site-kit"):e?.code===c?(0,i.__)("The server provided an invalid response","google-site-kit"):e?.message}},68326:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(50532),s=n.n(i),r=n(17243);const o=s()(({metrics:e,dimensions:t,...n}={})=>({metrics:a(e),dimensions:c(t),...n}));function a(e){return(0,r.castArray)(e).map(e=>"string"==typeof e?{name:e}:e).filter(e=>(0,r.isPlainObject)(e))}function c(e){return(0,r.castArray)(e).map(e=>"string"==typeof e?{name:e}:e).filter(e=>(0,r.isPlainObject)(e))}},71423:(e,t,n)=>{n.d(t,{$:()=>r,D:()=>s});var i=n(24558);const s="core/notifications",r=[i.uR,i.jU,i.f7,i.Ax,i.Is]},71564:(e,t,n)=>{n.d(t,{G4:()=>l,Ig:()=>r,Q3:()=>c,a2:()=>o,wA:()=>a});var i=n(17243),s=n(40127);function r(e){function t(e){return"string"==typeof e&&/^[a-zA-Z0-9_]+$/.test(e)}if("string"==typeof e){return e.split(",").every(t)}return(0,s.cX)(e,e=>{const n=e.hasOwnProperty("name")&&t(e.name);if(!e.hasOwnProperty("expression"))return n;const i="string"==typeof e.expression;return n&&i},t)}function o(e){return(0,s.cX)(e,e=>e.hasOwnProperty("name")&&"string"==typeof e.name)}function a(e){const t=["string"];return Object.keys(e).every(n=>{if(t.includes(typeof e[n]))return!0;if(Array.isArray(e[n]))return e[n].every(e=>t.includes(typeof e));if((0,i.isPlainObject)(e[n])){const t=Object.keys(e[n]);return!!t.includes("filterType")&&!("emptyFilter"!==e[n].filterType&&!t.includes("value"))}return!1})}function c(e){const t=["string"],n=["numericFilter","betweenFilter"];return Object.values(e).every(e=>{if(t.includes(typeof e))return!0;if(Array.isArray(e))return e.every(e=>t.includes(typeof e));if(!(0,i.isPlainObject)(e))return!1;const{filterType:s,value:r,fromValue:o,toValue:a}=e;if(s&&!n.includes(s))return!1;const c=Object.keys(e);return s&&"numericFilter"!==s?"betweenFilter"===s&&(c.includes("fromValue")&&c.includes("toValue")&&[o,a].every(e=>!(0,i.isPlainObject)(e)||"int64Value"in e)):c.includes("operation")&&c.includes("value")&&(!(0,i.isPlainObject)(r)||"int64Value"in r)})}function l(e){return!!Array.isArray(e)&&e.every(e=>!!(0,i.isPlainObject)(e)&&((!e.hasOwnProperty("desc")||"boolean"==typeof e.desc)&&(e.metric?!e.dimension&&"string"==typeof e.metric?.metricName:!!e.dimension&&"string"==typeof e.dimension?.dimensionName)))}},71769:(e,t,n)=>{function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e){return e.replace(/([a-z0-9]{1})([A-Z]{1})/g,"$1_$2").toUpperCase()}function r(e){return e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("")}n.d(t,{Uf:()=>r,m2:()=>i,sP:()=>s})},72455:(e,t,n)=>{n.d(t,{CV:()=>N,Cu:()=>A,K9:()=>i,Kr:()=>h,Lf:()=>m,Oh:()=>o,PW:()=>w,Rx:()=>L,S9:()=>f,TQ:()=>u,Vt:()=>j,Wl:()=>S,ZC:()=>s,ZY:()=>a,_p:()=>D,ag:()=>p,aj:()=>d,bz:()=>I,dq:()=>T,f2:()=>l,fB:()=>x,fV:()=>C,iB:()=>g,kc:()=>c,mo:()=>v,nc:()=>k,rm:()=>b,to:()=>r,wo:()=>y,yn:()=>_});const i="modules/analytics-4",s="account_create",r="property_create",o="webdatastream_create",a="analyticsSetup",c=10,l=1,g="https://www.googleapis.com/auth/tagmanager.readonly",u="enhanced-measurement-form",d="enhanced-measurement-enabled",m="enhanced-measurement-should-dismiss-activation-banner",p="analyticsAccountCreate",h="analyticsCustomDimensionsCreate",f="https://www.googleapis.com/auth/analytics.edit",y="dashboardAllTrafficWidgetDimensionName",v="dashboardAllTrafficWidgetDimensionColor",_="dashboardAllTrafficWidgetDimensionValue",S="dashboardAllTrafficWidgetActiveRowIndex",b="dashboardAllTrafficWidgetLoaded",A={googlesitekit_post_date:{parameterName:"googlesitekit_post_date",displayName:"WordPress Post Date",description:"Created by Site Kit: Date when a post was published",scope:"EVENT"},googlesitekit_post_author:{parameterName:"googlesitekit_post_author",displayName:"WordPress Post Author",description:"Created by Site Kit: WordPress name of the post author",scope:"EVENT"},googlesitekit_post_categories:{parameterName:"googlesitekit_post_categories",displayName:"WordPress Post Categories",description:"Created by Site Kit: Names of categories assigned to a post",scope:"EVENT"},googlesitekit_post_type:{parameterName:"googlesitekit_post_type",displayName:"WordPress Post Type",description:"Created by Site Kit: Content type of a post",scope:"EVENT"}},k={ADD_TO_CART:"add_to_cart",PURCHASE:"purchase",SUBMIT_LEAD_FORM:"submit_lead_form",GENERATE_LEAD:"generate_lead",CONTACT:"contact"},C=[k.CONTACT,k.GENERATE_LEAD,k.SUBMIT_LEAD_FORM],x={"new-visitors":{description:"People who visited the site for the first time",displayName:"New visitors",membershipDurationDays:-1,filterClauses:[{clauseType:"INCLUDE",simpleFilter:{scope:"AUDIENCE_FILTER_SCOPE_ACROSS_ALL_SESSIONS",filterExpression:{andGroup:{filterExpressions:[{orGroup:{filterExpressions:[{dimensionOrMetricFilter:{fieldName:"newVsReturning",stringFilter:{matchType:"EXACT",value:"new"}}}]}},{orGroup:{filterExpressions:[{notExpression:{dimensionOrMetricFilter:{fieldName:"groupId",stringFilter:{matchType:"EXACT",value:"created_by_googlesitekit:new_visitors"}}}}]}}]}}}}]},"returning-visitors":{description:"People who have visited your site at least once before",displayName:"Returning visitors",membershipDurationDays:-1,filterClauses:[{clauseType:"INCLUDE",simpleFilter:{scope:"AUDIENCE_FILTER_SCOPE_ACROSS_ALL_SESSIONS",filterExpression:{andGroup:{filterExpressions:[{orGroup:{filterExpressions:[{dimensionOrMetricFilter:{fieldName:"newVsReturning",stringFilter:{matchType:"EXACT",value:"returning"}}}]}},{orGroup:{filterExpressions:[{notExpression:{dimensionOrMetricFilter:{fieldName:"groupId",stringFilter:{matchType:"EXACT",value:"created_by_googlesitekit:returning_visitors"}}}}]}}]}}}}]}},w="audiencePermissionsSetup",N="audienceTileCustomDimensionCreate",I="audience-selection-panel-expirable-new-badge-",T="audience",j="customDimension",D="property",L=[T,j,D]},77766:(e,t,n)=>{n.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var i=n(63696),s=n(61991);const __WEBPACK_DEFAULT_EXPORT__=function(){return(0,i.useContext)(s.Ay)}},77967:(e,t,n)=>{n.d(t,{A:()=>ErrorNotice});var i=n(62688),s=n.n(i),r=n(63696),o=n(82871),a=n(84024),c=n(50539),l=n(67150),g=n(80035),u=n(12850),d=n(62540);function ErrorNotice({className:e,error:t,hasButton:n=!1,storeName:i,message:s=t.message,noPrefix:m=!1,skipRetryMessage:p,hideIcon:h=!1}){const f=(0,c.useDispatch)(),y=(0,c.useSelect)(e=>i?e(i).getSelectorDataForError(t):null),v=(0,r.useCallback)(()=>{f(y.storeName).invalidateResolution(y.name,y.args)},[f,y]);if(!s||(0,l.G)(t))return null;const _=n&&(0,l.vl)(t,y);let S=s;n||p||(S=(0,o.sprintf)(/* translators: %s: Error message from Google API. */ /* translators: %s: Error message from Google API. */
(0,o.__)("%s (Please try again.)","google-site-kit"),S)),m||(S=(0,o.sprintf)(/* translators: $%s: Error message */ /* translators: $%s: Error message */
(0,o.__)("Error: %s","google-site-kit"),S));const b=t?.data?.reconnectURL;b&&(0,a.m)(b)&&(S=(0,o.sprintf)(/* translators: 1: Original error message 2: Reconnect URL */ /* translators: 1: Original error message 2: Reconnect URL */
(0,o.__)('%1$s To fix this, <a href="%2$s">redo the plugin setup</a>.',"google-site-kit"),S,b));return(0,d.jsx)(g.A,{className:e,type:g.A.TYPES.ERROR,description:(0,d.jsx)("span",{dangerouslySetInnerHTML:(0,u.p9)(S,{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href"]})}),ctaButton:_?{label:(0,o.__)("Retry","google-site-kit"),onClick:v}:void 0,hideIcon:h})}ErrorNotice.propTypes={className:s().string,error:s().shape({message:s().string}),hasButton:s().bool,storeName:s().string,message:s().string,noPrefix:s().bool,skipRetryMessage:s().bool,hideIcon:s().bool}},78340:(e,t,n)=>{n.d(t,{s:()=>i});const i="core/forms"},79829:(e,t,n)=>{n.d(t,{Eo:()=>u,JK:()=>h,K5:()=>p,jq:()=>m,mK:()=>g});var i=n(17243),s=n(50532),r=n.n(s),o=n(82871);function a(e,t={}){const{formatUnit:n,formatDecimal:i}=function(e,t={}){const{hours:n,minutes:i,seconds:s}=c(e);return{hours:n,minutes:i,seconds:s,formatUnit(){const{unitDisplay:r="short",...a}=t,c={unitDisplay:r,...a,style:"unit"};return 0===e?m(s,{...c,unit:"second"}):(0,o.sprintf)(/* translators: 1: formatted seconds, 2: formatted minutes, 3: formatted hours */ /* translators: 1: formatted seconds, 2: formatted minutes, 3: formatted hours */
(0,o._x)("%3$s %2$s %1$s","duration of time: hh mm ss","google-site-kit"),s?m(s,{...c,unit:"second"}):"",i?m(i,{...c,unit:"minute"}):"",n?m(n,{...c,unit:"hour"}):"").trim()},formatDecimal(){const t=(0,o.sprintf)(
// translators: %s: number of seconds with "s" as the abbreviated unit.
// translators: %s: number of seconds with "s" as the abbreviated unit.
(0,o.__)("%ds","google-site-kit"),s);if(0===e)return t;const r=(0,o.sprintf)(
// translators: %s: number of minutes with "m" as the abbreviated unit.
// translators: %s: number of minutes with "m" as the abbreviated unit.
(0,o.__)("%dm","google-site-kit"),i),a=(0,o.sprintf)(
// translators: %s: number of hours with "h" as the abbreviated unit.
// translators: %s: number of hours with "h" as the abbreviated unit.
(0,o.__)("%dh","google-site-kit"),n);return(0,o.sprintf)(/* translators: 1: formatted seconds, 2: formatted minutes, 3: formatted hours */ /* translators: 1: formatted seconds, 2: formatted minutes, 3: formatted hours */
(0,o._x)("%3$s %2$s %1$s","duration of time: hh mm ss","google-site-kit"),s?t:"",i?r:"",n?a:"").trim()}}}(e,t);try{return n()}catch{return i()}}function c(e){e=parseInt(e,10),Number.isNaN(e)&&(e=0);return{hours:Math.floor(e/60/60),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}}function l(e){return 1e6<=e?Math.round(e/1e5)/10:1e4<=e?Math.round(e/1e3):1e3<=e?Math.round(e/100)/10:e}function g(e){let t={};return"%"===e?t={style:"percent",maximumFractionDigits:2}:"s"===e?t={style:"duration",unitDisplay:"narrow"}:e&&"string"==typeof e?t={style:"currency",currency:e}:(0,i.isPlainObject)(e)&&(t={...e}),t}function u(e,t={}){e=(0,i.isFinite)(e)?e:Number(e),(0,i.isFinite)(e)||(console.warn("Invalid number",e,typeof e),e=0);const n=g(t),{style:s="metric"}=n;return"metric"===s?function(e){const t={minimumFractionDigits:1,maximumFractionDigits:1};return 1e6<=e?(0,o.sprintf)(
// translators: %s: an abbreviated number in millions.
// translators: %s: an abbreviated number in millions.
(0,o.__)("%sM","google-site-kit"),m(l(e),e%10==0?{}:t)):1e4<=e?(0,o.sprintf)(
// translators: %s: an abbreviated number in thousands.
// translators: %s: an abbreviated number in thousands.
(0,o.__)("%sK","google-site-kit"),m(l(e))):1e3<=e?(0,o.sprintf)(
// translators: %s: an abbreviated number in thousands.
// translators: %s: an abbreviated number in thousands.
(0,o.__)("%sK","google-site-kit"),m(l(e),e%10==0?{}:t)):m(e,{signDisplay:"never",maximumFractionDigits:1})}(e):"duration"===s?a(e,n):"durationISO"===s?function(e){let{hours:t,minutes:n,seconds:i}=c(e);return i=("0"+i).slice(-2),n=("0"+n).slice(-2),t=("0"+t).slice(-2),"00"===t?`${n}:${i}`:`${t}:${n}:${i}`}(e):m(e,n)}const d=r()(console.warn);function m(e,t={}){const{locale:n=h(),...i}=t;try{return new Intl.NumberFormat(n,i).format(e)}catch(t){d(`Site Kit numberFormat error: Intl.NumberFormat( ${JSON.stringify(n)}, ${JSON.stringify(i)} ).format( ${typeof e} )`,t.message)}const s={currencyDisplay:"narrow",currencySign:"accounting",style:"unit"},r=["signDisplay","compactDisplay"],o={};for(const[e,t]of Object.entries(i))s[e]&&t===s[e]||r.includes(e)||(o[e]=t);try{return new Intl.NumberFormat(n,o).format(e)}catch{return new Intl.NumberFormat(n).format(e)}}function p(e,t={}){const{locale:n=h(),style:i="long",type:s="conjunction"}=t;if(Intl.ListFormat){return new Intl.ListFormat(n,{style:i,type:s}).format(e)}
/* translators: used between list items, there is a space after the comma. */const r=(0,o.__)(", ","google-site-kit");return e.join(r)}function h(e=n.g){const t=(0,i.get)(e,["_googlesitekitLegacyData","locale"]);if(t){const e=t.match(/^(\w{2})?(_)?(\w{2})/);if(e&&e[0])return e[0].replace(/_/g,"-")}return e.navigator.language}},80035:(e,t,n)=>{n.d(t,{A:()=>_});var i,s=n(62688),r=n.n(s),o=n(4452),a=n.n(o),c=n(63696),l=n(19793);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},g.apply(null,arguments)}const warning_notice=e=>c.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),i||(i=c.createElement("path",{fill:"currentColor",d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1m0 14a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m-1-2h2V6h-2z"})));var u=n(42343),d=n(49655),m=n(62540);const p={[d.Q.NEW]:u.A,[d.Q.SUCCESS]:l.A,[d.Q.INFO]:warning_notice,[d.Q.WARNING]:warning_notice,[d.Q.ERROR]:warning_notice};function Icon({type:e}){const t=p[e]||warning_notice;return(0,m.jsx)(t,{width:24,height:24})}function Title({className:e,children:t}){return(0,m.jsx)("p",{className:a()("googlesitekit-notice__title",e),children:t})}function Description({className:e,children:t}){return(0,m.jsx)("p",{className:a()("googlesitekit-notice__description",e),children:t})}Icon.propTypes={type:r().oneOf(Object.values(d.Q))},Title.propTypes={className:r().string,children:r().node},Description.propTypes={className:r().string,children:r().node};var h=n(49383),f=n(83366);function CTAButton({label:e,disabled:t,inProgress:n,onClick:i,href:s,external:r,hideExternalIndicator:o}){let a;return r&&!o&&(a=(0,m.jsx)(f.A,{width:14,height:14})),(0,m.jsx)(h.SpinnerButton,{className:"googlesitekit-notice__cta",disabled:t,isSaving:n,onClick:i,href:s,target:r?"_blank":"_self",trailingIcon:a,children:e})}CTAButton.propTypes={label:r().string.isRequired,disabled:r().bool,inProgress:r().bool,onClick:r().func,href:r().string,external:r().bool,hideExternalIndicator:r().bool};var y=n(82871);function DismissButton({label:e=(0,y.__)("Got it","google-site-kit"),onClick:t,disabled:n}){return(0,m.jsx)(h.Button,{onClick:t,disabled:n,tertiary:!0,children:e})}DismissButton.propTypes={label:r().string,onClick:r().func.isRequired,disabled:r().bool};const v=(0,c.forwardRef)(({className:e,title:t,description:n,dismissButton:i,ctaButton:s,type:r=d.Q.INFO,children:o,hideIcon:c},l)=>(0,m.jsxs)("div",{ref:l,className:a()("googlesitekit-notice",`googlesitekit-notice--${r}`,e),children:[!c&&(0,m.jsx)("div",{className:"googlesitekit-notice__icon",children:(0,m.jsx)(Icon,{type:r})}),(0,m.jsxs)("div",{className:"googlesitekit-notice__content",children:[t&&(0,m.jsx)(Title,{children:t}),n&&(0,m.jsx)(Description,{children:n})]}),(i?.label||i?.onClick||s?.label&&(s?.onClick||s?.href)||o)&&(0,m.jsxs)("div",{className:"googlesitekit-notice__action",children:[o,(i?.label||i?.onClick)&&(0,m.jsx)(DismissButton,{label:i.label,onClick:i.onClick,disabled:i.disabled}),s?.label&&(s?.onClick||s?.href)&&(0,m.jsx)(CTAButton,{label:s.label,onClick:s.onClick,inProgress:s.inProgress,disabled:s.disabled,href:s.href,external:s.external,hideExternalIndicator:s.hideExternalIndicator})]})]}));v.TYPES=d.Q,v.propTypes={className:r().string,title:r().oneOfType([r().string,r().object]),description:r().node,type:r().oneOf(Object.values(d.Q)),dismissButton:r().shape(DismissButton.propTypes),ctaButton:r().shape({...CTAButton.propTypes,label:r().string}),children:r().node,hideIcon:r().bool};const _=v},82046:(e,t,n)=>{n.d(t,{C:()=>r,p:()=>s});var i=n(15210);function s(e,t={}){return{__html:i.O.sanitize(e,t)}}function r(e){const t="object"==typeof e?e.toString():e;return t?.replace?.(/\/+$/,"")}},82871:e=>{e.exports=googlesitekit.i18n},83366:(e,t,n)=>{n.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var i,s=n(63696);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=e=>s.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24"},e),i||(i=s.createElement("path",{d:"M5 21a2 2 0 0 1-1.425-.575A2 2 0 0 1 3 19V5q0-.825.575-1.4Q4.175 3 5 3h7v2H5v14h14v-7h2v7q0 .825-.6 1.425Q19.825 21 19 21zm4.7-5.3-1.4-1.4L17.6 5H14V3h7v7h-2V6.4z"})))},84385:(e,t,n)=>{n.d(t,{A:()=>IconWrapper});var i=n(62688),s=n.n(i),r=n(62540);function IconWrapper({children:e,marginLeft:t,marginRight:n}){return(0,r.jsx)("span",{className:"googlesitekit-icon-wrapper",style:{marginLeft:t,marginRight:n},children:e})}IconWrapper.propTypes={children:s().node.isRequired,marginLeft:s().number,marginRight:s().number}},87388:(e,t,n)=>{n.d(t,{A:()=>SettingsStatuses});var i=n(62688),s=n.n(i),r=n(82871),o=n(49383),a=n(15167),c=n(62540);function SettingsStatuses({statuses:e}){if(!e||0===e.length)return null;function t(e){return void 0===e?(0,c.jsx)("div",{className:"googlesitekit-settings-module__meta-item-data",children:(0,c.jsx)(o.ProgressBar,{})}):(0,c.jsx)("p",{className:"googlesitekit-settings-module__meta-item-data",children:e?(0,r.__)("Enabled","google-site-kit"):(0,r.__)("Disabled","google-site-kit")})}return(0,c.jsx)("div",{className:"googlesitekit-settings-module__meta-items",children:e.map(({label:e,status:n})=>(0,c.jsxs)("div",{className:"googlesitekit-settings-module__meta-item",children:[(0,c.jsx)(a.A,{as:"h5",size:"medium",type:"label",className:"googlesitekit-settings-module__meta-item-type",children:e}),t(n)]},e))})}SettingsStatuses.propTypes={statuses:s().arrayOf(s().shape({label:s().string.isRequired,status:s().oneOf([void 0,!0,!1])}))}},88327:(e,t,n)=>{n.d(t,{$t:()=>a,Oh:()=>u,S9:()=>g,XH:()=>o,ZC:()=>s,ZY:()=>c,gL:()=>i,mZ:()=>l,vZ:()=>r});const i="modules/tagmanager",s="account_create",r="container_create",o="web",a="amp",c="tagmanagerSetup",l="https://www.googleapis.com/auth/tagmanager.readonly",g="https://www.googleapis.com/auth/tagmanager.edit.containers",u="SETUP_WITH_ANALYTICS"},89318:(e,t,n)=>{n.d(t,{M9:()=>x,sx:()=>k,BI:()=>C});var i=n(17243);const s="_googlesitekitDataLayer",r="data-googlesitekit-gtag";function o(e){return function(){e[s]=e[s]||[],e[s].push(arguments)}}var a=n(65214);const c={activeModules:[],isAuthenticated:!1,referenceSiteURL:"",trackingEnabled:!1,trackingID:"",userIDHash:"",userRoles:[]};const{activeModules:l=[],isSiteKitScreen:g,trackingEnabled:u,trackingID:d,referenceSiteURL:m,userIDHash:p,isAuthenticated:h,userRoles:f}=n.g._googlesitekitTrackingData||{},{GOOGLESITEKIT_VERSION:y}=n.g,v={activeModules:l,trackingEnabled:u,trackingID:d,referenceSiteURL:m,userIDHash:p,isSiteKitScreen:g,userRoles:f,isAuthenticated:h,pluginVersion:y},{enableTracking:_,disableTracking:S,isTrackingEnabled:b,initializeSnippet:A,trackEvent:k,trackEventOnce:C}=function(e,t=n.g,l=n.g){const g={...c,...e};g.referenceSiteURL&&(g.referenceSiteURL=g.referenceSiteURL.toString().replace(/\/+$/,""));const u=function(e,t){const i=o(t);let c;const{activeModules:l,referenceSiteURL:g,userIDHash:u,userRoles:d=[],isAuthenticated:m,pluginVersion:p}=e;return function(){const{document:t}=n.g;if(void 0===c&&(c=!!t.querySelector(`script[${r}]`)),c)return!1;c=!0;const o=d?.length?d.join(","):"";i("js",new Date),i("config",e.trackingID,{groups:"site_kit",send_page_view:e.isSiteKitScreen,domain:g,plugin_version:p||"",enabled_features:Array.from(a.t).join(","),active_modules:l.join(","),authenticated:m?"1":"0",user_properties:{user_roles:o,user_identifier:u}});const h=t.createElement("script");return h.setAttribute(r,""),h.async=!0,h.src=`https://www.googletagmanager.com/gtag/js?id=${e.trackingID}&l=${s}`,t.head.appendChild(h),{scriptTagSrc:`https://www.googletagmanager.com/gtag/js?id=${e.trackingID}&l=${s}`}}}(g,t),d=function(e,t,n,i){const s=o(t);return async function(t,r,o,a){const{trackingEnabled:c}=e;if(!c)return null;n();const l={send_to:"site_kit",event_category:t,event_label:o,value:a};return new Promise(e=>{const n=setTimeout(function(){i.console.warn(`Tracking event "${r}" (category "${t}") took too long to fire.`),e()},1e3);function o(){clearTimeout(n),e()}s("event",r,{...l,event_callback:o}),i._gaUserPrefs?.ioo?.()&&o()})}}(g,t,u,l),m={};return{enableTracking:function(){g.trackingEnabled=!0},disableTracking:function(){g.trackingEnabled=!1},initializeSnippet:u,isTrackingEnabled:function(){return!!g.trackingEnabled},trackEvent:d,trackEventOnce:function(...e){const t=JSON.stringify(e);m[t]||(m[t]=(0,i.once)(d)),m[t](...e)}}}(v);function x(e){e?_():S()}g&&u&&A()},89967:(e,t,n)=>{n.d(t,{EW:()=>y,HX:()=>a.x6,Hl:()=>d,OS:()=>p,RE:()=>_,Xo:()=>v,Ze:()=>S,dQ:()=>h,mh:()=>m,uv:()=>f,yZ:()=>u});var i=n(32091),s=n.n(i),r=n(17243),o=n(72455),a=n(12850),c=n(40127),l=n(68326),g=n(71564);function u(e){return e===o.ZC||(0,a.x6)(e)}function d(e){return"string"==typeof e&&/^\d+$/.test(e)}function m(e){return e===o.to||d(e)}function p(e){return"string"==typeof e&&/^\d+$/.test(e)}function h(e){return e===o.Oh||p(e)}function f(e){return"string"==typeof e&&e.trim().length>0}function y(e){return"string"==typeof e&&/^G-[a-zA-Z0-9]+$/.test(e)}function v(e){return"string"==typeof e&&/^(G|GT|AW)-[a-zA-Z0-9]+$/.test(e)}function _(e){s()((0,r.isPlainObject)(e),"options for Analytics 4 report must be an object."),s()((0,c.O5)(e),"Either date range or start/end dates must be provided for Analytics 4 report.");const{metrics:t,dimensions:n,dimensionFilters:i,metricFilters:o,orderby:a}=(0,l.A)(e);s()(t.length,"Requests must specify at least one metric for an Analytics 4 report."),s()((0,g.Ig)(t),'metrics for an Analytics 4 report must be either a string, an array of strings, an object, an array of objects, or a mix of strings and objects. Objects must have a "name" property. Metric names must match the expression ^[a-zA-Z0-9_]+$.'),n&&s()((0,g.a2)(n),'dimensions for an Analytics 4 report must be either a string, an array of strings, an object, an array of objects, or a mix of strings and objects. Objects must have a "name" property.'),i&&s()((0,g.wA)(i),"dimensionFilters for an Analytics 4 report must be a map of dimension names as keys and dimension values as values."),o&&s()((0,g.Q3)(o),"metricFilters for an Analytics 4 report must be a map of metric names as keys and filter value(s) as numeric fields, depending on the filterType."),a&&s()((0,g.G4)(a),'orderby for an Analytics 4 report must be an array of OrderBy objects where each object should have either a "metric" or "dimension" property, and an optional "desc" property.')}function S(e){const t=["displayName","description","membershipDurationDays","eventTrigger","exclusionDurationMode","filterClauses"];s()((0,r.isPlainObject)(e),"Audience must be an object."),Object.keys(e).forEach(e=>{s()(t.includes(e),`Audience object must contain only valid keys. Invalid key: "${e}"`)}),["displayName","description","membershipDurationDays","filterClauses"].forEach(t=>{s()(e[t],`Audience object must contain required keys. Missing key: "${t}"`)}),s()((0,r.isArray)(e.filterClauses),"filterClauses must be an array with AudienceFilterClause objects.")}},93594:(e,t,n)=>{var i=n(50539),s=n.n(i),r=n(13620),o=n.n(r),a=n(82871),c=n(88327),l=n(37226),g=n(72455),u=n(99897),d=n(30679),m=n(77967),p=n(62540);function SetupErrorNotice(){const e=(0,i.useSelect)(e=>e(l.i).isModuleAvailable(u.L1)),t=[(0,i.useSelect)(e=>e(l.i).getErrorForAction("activateModule",[u.L1])),(0,i.useSelect)(t=>{if(!e)return!1;const n=t(g.K9).getSettings();return t(g.K9).getErrorForAction("saveSettings",[n])})].filter(Boolean);return t.length?t.map(e=>(0,p.jsx)(m.A,{error:e},e?.message)):(0,p.jsx)(d.A,{moduleSlug:"tagmanager",storeName:c.gL})}var h=n(62688),f=n.n(h),y=n(63696),v=n(49383),_=n(78340),S=n(58116),b=n(45472),A=n(67150),k=n(21134),C=n(59323),x=n(89318),w=n(77766);function AccountCreate(){const e=(0,w.A)(),t=(0,i.useSelect)(e=>e(c.gL).hasFinishedResolution("getAccounts")),s=(0,i.useSelect)(e=>e(S.oR).hasFinishedResolution("getUser")),r=(0,i.useSelect)(e=>e(c.gL).getServiceURL({path:"admin/accounts/create"})),{resetAccounts:o}=(0,i.useDispatch)(c.gL),l=(0,y.useCallback)(()=>{o()},[o]),g=(0,y.useCallback)(()=>{(0,x.sx)(`${e}_tagmanager`,"create_account"),n.g.window.open(r,"_blank")},[r,e]);return t&&s?(0,p.jsxs)("div",{children:[(0,p.jsx)(d.A,{moduleSlug:"tagmanager",storeName:c.gL}),(0,p.jsx)(C.A,{children:(0,a.__)("To create a new account, click the button below which will open the Google Tag Manager account creation screen in a new window.","google-site-kit")}),(0,p.jsx)(C.A,{children:(0,a.__)("Once completed, click the link below to re-fetch your accounts to continue.","google-site-kit")}),(0,p.jsxs)("div",{className:"googlesitekit-setup-module__action",children:[(0,p.jsx)(v.Button,{onClick:g,children:(0,a.__)("Create an account","google-site-kit")}),(0,p.jsx)("div",{className:"googlesitekit-setup-module__sub-action",children:(0,p.jsx)(v.Button,{onClick:l,tertiary:!0,children:(0,a.__)("Re-fetch My Account","google-site-kit")})})]})]}):(0,p.jsx)(v.ProgressBar,{})}function AccountSelect({hasModuleAccess:e}){const t=(0,w.A)(),n=(0,i.useSelect)(e=>e(c.gL).getAccounts()),s=(0,i.useSelect)(e=>e(c.gL).hasFinishedResolution("getAccounts")),r=(0,i.useSelect)(e=>e(c.gL).getAccountID()),{selectAccount:o}=(0,i.useDispatch)(c.gL),l=(0,y.useCallback)((e,n)=>{const i=n.dataset.value;if(r!==i){const e=i===c.ZC?"change_account_new":"change_account";(0,x.sx)(`${t}_tagmanager`,e),o(i)}},[r,o,t]);return s?!1===e?(0,p.jsx)(v.Select,{className:"googlesitekit-tagmanager__select-account",label:(0,a.__)("Account","google-site-kit"),value:r,enhanced:!0,outlined:!0,disabled:!0,children:(0,p.jsx)(v.Option,{value:r,children:r})}):(0,p.jsx)(v.Select,{className:"googlesitekit-tagmanager__select-account",label:(0,a.__)("Account","google-site-kit"),value:r,onEnhancedChange:l,enhanced:!0,outlined:!0,children:(n||[]).concat({accountId:c.ZC,name:(0,a.__)("Set up a new account","google-site-kit")}).map(({accountId:e,name:t})=>(0,p.jsx)(v.Option,{value:e,children:t},e))}):(0,p.jsx)(v.ProgressBar,{small:!0})}AccountSelect.propTypes={hasModuleAccess:f().bool};var N=n(15844),I=n(84024),T=n(93896),j=n(4452),D=n.n(j),L=n(59834),E=n(17243);function O(e){let t=e;return t=(0,E.unescape)(t),t=t.trim(),t=t.replace(/^_+/,""),t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),t=t.replace(/[^a-zA-Z0-9_., -]/g,""),t=t.replace(/\s+/g," "),t}var R=n(12850);function P(e){return(0,R.x6)(e)}function M(e){return"string"==typeof e&&/^GTM-[A-Z0-9]+$/.test(e)}function G(e){return"string"==typeof e&&O(e).length>0}function $(e,t){const n=O(e);return!Array.isArray(t)||!t.some(({name:e})=>O(e)===n)}function F(e){return e===c.vZ||M(e)}function U(e){return(0,R.x6)(e)}function V(e){return[c.XH,c.$t].includes(e)}var q,H=n(27333);function ContainerNameTextField({label:e,name:t}){const n=(0,i.useSelect)(e=>{const t=e(c.gL).getAccountID();return e(c.gL).getContainers(t)}),s=(0,H.A)(c.ZY,t),{setValues:r}=(0,i.useDispatch)(_.s),o=(0,y.useCallback)(({currentTarget:e})=>{r(c.ZY,{[t]:e.value})},[t,r]),l=$(s,n),g=!(!s||l)&&(0,a.__)("A container with this name already exists","google-site-kit"),u=!(!s||l)&&(0,p.jsx)("span",{className:"googlesitekit-text-field-icon--error",children:(0,p.jsx)(L.A,{})});return(0,p.jsx)("div",{className:D()("googlesitekit-tagmanager-containername",`googlesitekit-tagmanager-${t}`),children:(0,p.jsx)(v.TextField,{className:D()({"mdc-text-field--error":!s||!l}),label:e,helperText:g,trailingIcon:u,id:t,name:t,value:s,onChange:o,outlined:!0})})}function AMPContainerNameTextField(){const e=(0,i.useSelect)(e=>e(c.gL).getAMPContainerID()),t=(0,i.useSelect)(e=>e(T.O4).getSiteName()),n=(0,i.useSelect)(e=>e(T.O4).getReferenceSiteURL()),s=(0,H.A)(c.ZY,"ampContainerName");let r=t;!r&&(0,I.m)(n)&&(r=new URL(n).hostname),r+=" AMP";const{setValues:o}=(0,i.useDispatch)(_.s);return(0,N.A)(()=>{s||o(c.ZY,{ampContainerName:r})}),e!==c.vZ?null:(0,p.jsx)(ContainerNameTextField,{name:"ampContainerName",label:(0,a.__)("AMP Container Name","google-site-kit")})}function ContainerSelect({containers:e,className:t,value:n,...s}){const r=(0,i.useSelect)(e=>e(c.gL).getAccountID()),o=(0,i.useSelect)(e=>e(c.gL).hasFinishedResolution("getAccounts")),l=(0,i.useSelect)(e=>e(c.gL).hasFinishedResolution("getContainers",[r]));return o&&l?(0,p.jsx)(v.Select,{className:D()("googlesitekit-tagmanager__select-container",t),disabled:!P(r),value:n,enhanced:!0,outlined:!0,...s,children:(e||[]).concat({publicId:c.vZ,name:(0,a.__)("Set up a new container","google-site-kit")}).map(({publicId:e,name:t,containerId:n})=>(0,p.jsx)(v.Option,{value:e,"data-internal-id":n,children:e===c.vZ?t:(0,a.sprintf)(/* translators: 1: container name, 2: container ID */ /* translators: 1: container name, 2: container ID */
(0,a._x)("%1$s (%2$s)","Tag Manager container name and ID","google-site-kit"),t,e)},e))}):(0,p.jsx)(v.ProgressBar,{small:!0})}function AMPContainerSelect({hasModuleAccess:e}){const t=(0,w.A)(),n=(0,i.useSelect)(e=>e(c.gL).getAccountID()),s=(0,i.useSelect)(e=>e(c.gL).getAMPContainerID()),r=(0,i.useSelect)(t=>!1===e?null:t(c.gL).getAMPContainers(n)),o=(0,i.useSelect)(e=>e(T.O4).isAMP()),{setAMPContainerID:l,setInternalAMPContainerID:g}=(0,i.useDispatch)(c.gL),u=(0,y.useCallback)((e,n)=>{const{value:i,internalId:r}=n.dataset;if(s!==i){const e=i===c.vZ?"change_amp_container_new":"change_amp_container";(0,x.sx)(`${t}_tagmanager`,e),l(i),g(r||"")}},[s,l,g,t]);if(!o)return null;const d=(0,a.__)("AMP Container","google-site-kit");return!1===e?(0,p.jsx)(v.Select,{className:"googlesitekit-tagmanager__select-container--amp",label:d,value:s,enhanced:!0,outlined:!0,disabled:!0,children:(0,p.jsx)(v.Option,{value:s,children:s})}):(0,p.jsx)(ContainerSelect,{className:"googlesitekit-tagmanager__select-container--amp",label:d,value:s,containers:r,onEnhancedChange:u})}function WebContainerNameTextField(){const e=(0,i.useSelect)(e=>e(c.gL).getContainerID()),t=(0,i.useSelect)(e=>e(T.O4).getSiteName()),n=(0,i.useSelect)(e=>e(T.O4).isAMP()),s=(0,i.useSelect)(e=>e(T.O4).getReferenceSiteURL()),r=(0,H.A)(c.ZY,"containerName");let o=t;!o&&(0,I.m)(s)&&(o=new URL(s).hostname);const{setValues:l}=(0,i.useDispatch)(_.s);if((0,N.A)(()=>{r||l(c.ZY,{containerName:o})}),e!==c.vZ)return null;const g=n?(0,a.__)("Web Container Name","google-site-kit"):(0,a.__)("Container Name","google-site-kit");return(0,p.jsx)(ContainerNameTextField,{name:"containerName",label:g})}function ContainerNames(){const e=(0,i.useSelect)(e=>e(c.gL).getContainerID()),t=(0,i.useSelect)(e=>e(c.gL).getAMPContainerID());return e!==c.vZ&&t!==c.vZ?null:(0,p.jsxs)("div",{className:"googlesitekit-setup-module__inputs googlesitekit-setup-module__inputs--collapsed",children:[e===c.vZ&&(0,p.jsx)(WebContainerNameTextField,{}),t===c.vZ&&(0,p.jsx)(AMPContainerNameTextField,{})]})}function FormInstructions({isSetup:e}){const t=(0,i.useSelect)(e=>e(T.O4).isSecondaryAMP()),n=(0,i.useSelect)(e=>e(l.i).isModuleAvailable(u.L1)),s=(0,i.useSelect)(e=>e(l.i).isModuleActive(u.L1)),r=(0,i.useSelect)(e=>e(c.gL).getCurrentGTMGoogleTagID());return n&&!s&&r?(0,p.jsx)(C.A,{children:(0,a.__)("Looks like you may be using Google Analytics within your Google Tag Manager configuration. Activate the Google Analytics module in Site Kit to see relevant insights in your dashboard.","google-site-kit")}):t?(0,p.jsx)(C.A,{children:e?(0,a.__)("Looks like your site is using paired AMP. Please select your Tag Manager account and relevant containers below. You can change these later in your settings.","google-site-kit"):(0,a.__)("Looks like your site is using paired AMP. Please select your Tag Manager account and relevant containers below.","google-site-kit")}):(0,p.jsx)(C.A,{children:e?(0,a.__)("Please select your Tag Manager account and container below. You can change these later in your settings.","google-site-kit"):(0,a.__)("Please select your Tag Manager account and container below","google-site-kit")})}function TagCheckProgress({className:e}){return(0,i.useSelect)(e=>{const t=e(c.gL).getAccountID(),n=e(c.gL).getInternalContainerID(),i=e(c.gL).getInternalAMPContainerID();return e(c.gL).isResolving("getLiveContainerVersion",[t,n])||e(c.gL).isResolving("getLiveContainerVersion",[t,i])})?(0,p.jsxs)("div",{className:D()(e),children:[(0,p.jsx)("small",{children:(0,a.__)("Checking tags…","google-site-kit")}),(0,p.jsx)(v.ProgressBar,{small:!0,compress:!0})]}):null}function UseSnippetSwitch({description:e}){const t=(0,i.useSelect)(e=>e(c.gL).getUseSnippet()),n=(0,w.A)(),{setUseSnippet:s}=(0,i.useDispatch)(c.gL),r=(0,y.useCallback)(()=>{const e=!t;s(e),(0,R.sx)(`${n}_tagmanager`,e?"enable_tag":"disable_tag")},[s,t,n]);return void 0===t?null:(0,p.jsxs)("div",{className:"googlesitekit-tagmanager-usesnippet",children:[(0,p.jsx)(v.Switch,{label:(0,a.__)("Let Site Kit place code on your site","google-site-kit"),checked:t,onClick:r,hideLabel:!1}),e]})}function WebContainerSelect({hasModuleAccess:e}){const t=(0,w.A)(),n=(0,i.useSelect)(e=>e(c.gL).getAccountID()),s=(0,i.useSelect)(e=>e(c.gL).getContainerID()),r=(0,i.useSelect)(t=>!1===e?null:t(c.gL).getWebContainers(n)),o=(0,i.useSelect)(e=>e(T.O4).isAMP()),{setContainerID:l,setInternalContainerID:g}=(0,i.useDispatch)(c.gL),u=(0,y.useCallback)((e,n)=>{const{value:i,internalId:r}=n.dataset;if(s!==i){const e=i===c.vZ?"change_container_new":"change_container";(0,x.sx)(`${t}_tagmanager`,e),l(i),g(r||"")}},[s,l,g,t]),d=o?(0,a.__)("Web Container","google-site-kit"):(0,a.__)("Container","google-site-kit");return!1===e?(0,p.jsx)(v.Select,{className:"googlesitekit-tagmanager__select-container--web",label:d,value:s,enhanced:!0,outlined:!0,disabled:!0,children:(0,p.jsx)(v.Option,{value:s,children:s})}):(0,p.jsx)(ContainerSelect,{className:"googlesitekit-tagmanager__select-container--web",label:d,value:s,containers:r,onEnhancedChange:u})}function SetupUseSnippetSwitch(){const e=(0,i.useSelect)(e=>e(c.gL).getPrimaryContainerID()),t=(0,i.useSelect)(e=>e(c.gL).getExistingTag()),n=e===t?(0,p.jsxs)(y.Fragment,{children:[(0,p.jsx)(C.A,{children:(0,a.sprintf)(/* translators: %s: existing tag ID */ /* translators: %s: existing tag ID */
(0,a.__)("A tag %s for the selected container already exists on the site","google-site-kit"),t)}),(0,p.jsx)(C.A,{children:(0,a.__)("Make sure you remove it if you want to place the same tag via Site Kit, otherwise they will be duplicated","google-site-kit")})]}):(0,p.jsxs)(y.Fragment,{children:[(0,p.jsx)(C.A,{children:(0,a.sprintf)(/* translators: %s: existing tag ID */ /* translators: %s: existing tag ID */
(0,a.__)("An existing tag %s was found on the page","google-site-kit"),t)}),(0,p.jsx)(C.A,{children:(0,a.__)("If you prefer to collect data using that existing tag, please select the corresponding account and property above","google-site-kit")})]});return(0,p.jsx)(UseSnippetSwitch,{description:n})}function SetupForm({finishSetup:e}){const t=(0,i.useSelect)(e=>e(c.gL).canSubmitChanges()),n=(0,i.useSelect)(e=>e(c.gL).getCurrentGTMGoogleTagID()),s=(0,i.useSelect)(e=>e(l.i).isModuleAvailable(u.L1)),r=(0,i.useSelect)(e=>e(l.i).isModuleActive(u.L1)),o=(0,i.useSelect)(e=>e(S.oR).hasScope(c.S9)),g=(0,H.A)(c.ZY,"autoSubmit"),d=(0,H.A)(c.ZY,"submitMode"),m=(0,i.useSelect)(e=>e(c.gL).hasExistingTag()),h=(0,H.A)(c.ZY,"submitInProgress"),f=(0,i.useSelect)(e=>e(c.gL).isDoingSubmitChanges()||e(b.M).isNavigating()||h),[C,x]=(0,y.useState)(!1),{setValues:w}=(0,i.useDispatch)(_.s),{activateModule:N}=(0,i.useDispatch)(l.i),{submitChanges:I}=(0,i.useDispatch)(c.gL),T=(0,y.useCallback)(async({submitMode:t}={})=>{w(c.ZY,{submitMode:t,submitInProgress:!0});try{if(await async function(e){const{error:t}=await e()||{};if(t)throw t}(()=>I()),w(c.ZY,{autoSubmit:!1}),t!==c.Oh||r)e();else{const{response:t,error:n}=await N(u.L1);if(n)throw n;await(0,k.SO)("module_setup",u.L1,{ttl:300}),e(t.moduleReauthURL)}}catch(e){(0,A.G)(e)&&w(c.ZY,{autoSubmit:!0})}w(c.ZY,{submitInProgress:!1})},[e,r,N,I,w]);(0,y.useEffect)(()=>{g&&o&&T({submitMode:d})},[o,g,T,d]);const j=!(!n||!s||r),D=(0,y.useCallback)(e=>{e.preventDefault();const t=j?c.Oh:"";T({submitMode:t})},[T,j]),L=(0,y.useCallback)(()=>T(),[T]);return(0,p.jsxs)("form",{className:"googlesitekit-tagmanager-setup__form",onSubmit:D,children:[(0,p.jsx)(SetupErrorNotice,{}),(0,p.jsx)(FormInstructions,{isSetup:!0}),(0,p.jsxs)("div",{className:"googlesitekit-setup-module__inputs",children:[(0,p.jsx)(AccountSelect,{}),(0,p.jsx)(WebContainerSelect,{}),(0,p.jsx)(AMPContainerSelect,{}),(0,p.jsx)(TagCheckProgress,{})]}),(0,p.jsx)(ContainerNames,{}),m&&(0,p.jsx)(SetupUseSnippetSwitch,{}),(0,p.jsxs)("div",{className:"googlesitekit-setup-module__action",children:[j&&(0,p.jsxs)(y.Fragment,{children:[(0,p.jsx)(v.SpinnerButton,{disabled:!t,isSaving:C&&f,onClick:()=>x(!0),children:(0,a.__)("Continue to Analytics setup","google-site-kit")}),(0,p.jsx)(v.Button,{className:"googlesitekit-setup-module__sub-action",type:"button",onClick:L,disabled:!t,tertiary:!0,children:(0,a.__)("Complete setup without Analytics","google-site-kit")})]}),!j&&(0,p.jsx)(v.SpinnerButton,{disabled:!t||f,isSaving:f,children:(0,a.__)("Complete setup","google-site-kit")})]})]})}function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},B.apply(null,arguments)}ContainerNameTextField.propTypes={label:f().string.isRequired,name:f().string.isRequired},ContainerSelect.propTypes={containers:f().arrayOf(f().object)},AMPContainerSelect.propTypes={hasModuleAccess:f().bool},FormInstructions.propTypes={isSetup:f().bool},TagCheckProgress.propTypes={className:f().string},TagCheckProgress.defaultProps={className:""},UseSnippetSwitch.propTypes={description:f().node},WebContainerSelect.propTypes={hasModuleAccess:f().bool},SetupForm.propTypes={finishSetup:f().func};const Z=e=>y.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},e),q||(q=y.createElement("g",{fill:"none",transform:"translate(.422 .422)"},y.createElement("path",{fill:"#8ab4f8",d:"m16.091 30.725 14.461-14.543 6.817 6.856L22.908 37.58z"}),y.createElement("path",{fill:"#4285f4",d:"M22.91 8.496 16.09 1.64 1.63 16.182a4.867 4.867 0 0 0 0 6.854L16.09 37.58l6.817-6.855L11.856 19.61z"}),y.createElement("ellipse",{cx:19.5,cy:34.153,fill:"#1967d2",rx:4.82,ry:4.847}),y.createElement("path",{fill:"#8ab4f8",d:"M37.37 16.182 22.91 1.639a4.8 4.8 0 0 0-6.817 0 4.867 4.867 0 0 0 0 6.855l14.46 14.542a4.8 4.8 0 0 0 6.817 0 4.867 4.867 0 0 0 0-6.854"}))));function W(){const e=(0,i.useSelect)(e=>e(c.gL).getExistingTag()),t=(0,i.useSelect)(e=>e(c.gL).getPrimaryContainerID()),n=(0,y.useRef)(!0),{setUseSnippet:s}=(0,i.useDispatch)(c.gL);(0,y.useEffect)(()=>{if(e&&void 0!==t){if(""===t||n.current)return void(n.current=!1);s(e!==t)}},[t,e,s])}var K=n(15167);function SetupMain({finishSetup:e}){const t=(0,i.useSelect)(e=>e(c.gL).getAccounts()),n=(0,i.useSelect)(e=>e(c.gL).getAccountID()),s=(0,i.useSelect)(e=>e(c.gL).hasExistingTag()),r=(0,i.useSelect)(e=>e(c.gL).hasFinishedResolution("getAccounts")),o=c.ZC===n;let l;return W(),l=r&&void 0!==s?o||!t?.length?(0,p.jsx)(AccountCreate,{}):(0,p.jsx)(SetupForm,{finishSetup:e}):(0,p.jsx)(v.ProgressBar,{}),(0,p.jsxs)("div",{className:"googlesitekit-setup-module googlesitekit-setup-module--tagmanager",children:[(0,p.jsxs)("div",{className:"googlesitekit-setup-module__step",children:[(0,p.jsx)("div",{className:"googlesitekit-setup-module__logo",children:(0,p.jsx)(Z,{width:"40",height:"40"})}),(0,p.jsx)(K.A,{as:"h3",className:"googlesitekit-setup-module__title",size:"small",type:"headline",children:(0,a._x)("Tag Manager","Service name","google-site-kit")})]}),(0,p.jsx)("div",{className:"googlesitekit-setup-module__step",children:l})]})}SetupMain.propTypes={finishSetup:f().func},SetupMain.defaultProps={finishSetup:()=>{}};var Y=n(40761),z=n(13606);function SettingsUseSnippetSwitch(){const e=(0,i.useSelect)(e=>e(c.gL).getUseSnippet()),t=(0,i.useSelect)(e=>e(c.gL).getPrimaryContainerID()),n=(0,i.useSelect)(e=>e(c.gL).getExistingTag());let s;return s=n?t===n?(0,p.jsxs)(y.Fragment,{children:[(0,p.jsx)(C.A,{children:(0,a.sprintf)(/* translators: %s: existing tag ID */ /* translators: %s: existing tag ID */
(0,a.__)("A tag %s for the selected container already exists on the site","google-site-kit"),n)}),(0,p.jsx)(C.A,{children:(0,a.__)("Consider removing the existing tag to avoid loading both tags on your site","google-site-kit")})]}):(0,p.jsxs)(y.Fragment,{children:[(0,p.jsx)(C.A,{children:(0,a.sprintf)(/* translators: %s: existing tag ID */ /* translators: %s: existing tag ID */
(0,a.__)("An existing tag %s was found on the page","google-site-kit"),n)}),(0,p.jsx)(C.A,{children:(0,a.__)("If you prefer to collect data using that existing tag, please select the corresponding account and property above","google-site-kit")})]}):e?(0,p.jsx)(C.A,{children:(0,a.__)("Site Kit will add the code automatically","google-site-kit")}):(0,p.jsx)(C.A,{children:(0,a.__)("Site Kit will not add the code to your site","google-site-kit")}),(0,p.jsx)(UseSnippetSwitch,{description:s})}var Q=n(80035),J=n(30427),X=n(41566),ee=n(6464);function SettingsForm({hasModuleAccess:e}){const t=(0,ee.i)("googleTagGateway"),n=(0,i.useSelect)(e=>e(l.i).getModule(Y.H)),s=n?.owner?.login?`<strong>${n.owner.login}</strong>`:(0,a.__)("Another admin","google-site-kit");return(0,p.jsxs)("div",{className:"googlesitekit-tagmanager-settings-fields",children:[(0,p.jsx)(d.A,{moduleSlug:"tagmanager",storeName:c.gL}),(0,p.jsx)(FormInstructions,{}),(0,p.jsxs)("div",{className:"googlesitekit-setup-module__inputs",children:[(0,p.jsx)(AccountSelect,{hasModuleAccess:e}),(0,p.jsx)(WebContainerSelect,{hasModuleAccess:e}),(0,p.jsx)(AMPContainerSelect,{hasModuleAccess:e}),(0,p.jsx)(TagCheckProgress,{})]}),!1===e&&(0,p.jsx)(Q.A,{className:"googlesitekit-notice--bottom-margin",type:Q.A.TYPES.INFO,description:(0,z.A)((0,a.sprintf)(/* translators: 1: module owner's name, 2: module name */ /* translators: 1: module owner's name, 2: module name */
(0,a.__)("%1$s configured %2$s and you don’t have access to this %2$s account. Contact them to share access or change the %2$s account.","google-site-kit"),s,n?.name),{strong:(0,p.jsx)("strong",{})})}),(0,p.jsx)(ContainerNames,{}),(0,p.jsx)("div",{className:"googlesitekit-setup-module__inputs googlesitekit-setup-module__inputs--multiline",children:(0,p.jsx)(SettingsUseSnippetSwitch,{})}),t&&(0,p.jsx)(J.A,{title:(0,a.__)("Improve your measurement","google-site-kit"),children:(0,p.jsx)(X.A,{})})]})}function SettingsEdit(){const e=(0,i.useSelect)(e=>e(c.gL).getAccounts())||[],t=(0,i.useSelect)(e=>e(c.gL).getAccountID()),n=(0,i.useSelect)(e=>e(c.gL).hasExistingTag()),s=(0,i.useSelect)(e=>e(c.gL).isDoingSubmitChanges()),r=(0,i.useSelect)(e=>e(c.gL).hasFinishedResolution("getAccounts")),o=(0,i.useSelect)(e=>e(l.i).hasModuleOwnershipOrAccess(Y.H)),a=c.ZC===t;let g;return W(),g=s||!r||void 0===o||void 0===n?(0,p.jsx)(v.ProgressBar,{}):a||!e?.length?(0,p.jsx)(AccountCreate,{}):(0,p.jsx)(SettingsForm,{hasModuleAccess:o}),(0,p.jsx)("div",{className:"googlesitekit-setup-module googlesitekit-setup-module--tagmanager",children:g})}SettingsForm.propTypes={hasModuleAccess:f().bool},SettingsForm.defaultProps={hasModuleAccess:!0};var te=n(17691),ne=n(20898),ie=n(16834),se=n(11997),re=n(87388);function SettingsView(){const e=(0,i.useSelect)(e=>e(c.gL).getAccountID()),t=(0,i.useSelect)(e=>e(c.gL).getContainerID()),n=(0,i.useSelect)(e=>e(c.gL).getAMPContainerID()),s=(0,i.useSelect)(e=>e(c.gL).getUseSnippet()),r=(0,i.useSelect)(e=>e(c.gL).hasExistingTag()),o=(0,i.useSelect)(e=>e(T.O4).isAMP()),l=(0,i.useSelect)(e=>e(T.O4).isSecondaryAMP()),g=(0,i.useSelect)(e=>e(c.gL).getInternalContainerID()),u=(0,i.useSelect)(e=>e(c.gL).getInternalAMPContainerID()),m=(0,i.useSelect)(t=>t(c.gL).getServiceURL({path:se.U`/container/accounts/${e}/containers/${g}`})),h=(0,i.useSelect)(t=>t(c.gL).getServiceURL({path:se.U`/container/accounts/${e}/containers/${u}`})),f=(0,ee.i)("googleTagGateway"),v=(0,i.useSelect)(e=>{if(!f)return[];const{isGoogleTagGatewayEnabled:t,isGTGHealthy:n,isScriptAccessEnabled:i}=e(T.O4),s=t()&&n()&&i();return[{label:(0,a.__)("Google tag gateway for advertisers","google-site-kit"),status:s}]});return(0,p.jsxs)(y.Fragment,{children:[(0,p.jsx)(d.A,{moduleSlug:"tagmanager",storeName:c.gL}),(0,p.jsxs)("div",{className:"googlesitekit-settings-module__meta-items",children:[(0,p.jsxs)("div",{className:"googlesitekit-settings-module__meta-item",children:[(0,p.jsx)(K.A,{as:"h5",size:"medium",type:"label",className:"googlesitekit-settings-module__meta-item-type",children:(0,a.__)("Account","google-site-kit")}),(0,p.jsx)("p",{className:"googlesitekit-settings-module__meta-item-data",children:(0,p.jsx)(te.A,{value:e})})]}),(!o||l)&&(0,p.jsxs)(y.Fragment,{children:[(0,p.jsxs)("div",{className:"googlesitekit-settings-module__meta-item",children:[(0,p.jsxs)(K.A,{as:"h5",size:"medium",type:"label",className:"googlesitekit-settings-module__meta-item-type",children:[l&&(0,p.jsx)("span",{children:(0,a.__)("Web Container ID","google-site-kit")}),!l&&(0,p.jsx)("span",{children:(0,a.__)("Container ID","google-site-kit")})]}),(0,p.jsx)("p",{className:"googlesitekit-settings-module__meta-item-data",children:(0,p.jsx)(te.A,{value:t})})]}),m&&(0,p.jsx)("div",{className:"googlesitekit-settings-module__meta-item googlesitekit-settings-module__meta-item--data-only",children:(0,p.jsx)("p",{className:"googlesitekit-settings-module__meta-item-data googlesitekit-settings-module__meta-item-data--tiny",children:(0,p.jsx)(ne.A,{href:m,external:!0,children:(0,z.A)((0,a.sprintf)(/* translators: %s: Appropriate container term. */ /* translators: %s: Appropriate container term. */
(0,a.__)("Edit <VisuallyHidden>%s </VisuallyHidden>in Tag Manager","google-site-kit"),l?(0,a.__)("web container","google-site-kit"):(0,a.__)("container","google-site-kit")),{VisuallyHidden:(0,p.jsx)(ie.A,{})})})})})]}),o&&(0,p.jsxs)(y.Fragment,{children:[(0,p.jsxs)("div",{className:"googlesitekit-settings-module__meta-item",children:[(0,p.jsxs)(K.A,{as:"h5",size:"medium",type:"label",className:"googlesitekit-settings-module__meta-item-type",children:[l&&(0,p.jsx)("span",{children:(0,a.__)("AMP Container ID","google-site-kit")}),!l&&(0,p.jsx)("span",{children:(0,a.__)("Container ID","google-site-kit")})]}),(0,p.jsx)("p",{className:"googlesitekit-settings-module__meta-item-data",children:(0,p.jsx)(te.A,{value:n})})]}),h&&(0,p.jsx)("div",{className:"googlesitekit-settings-module__meta-item googlesitekit-settings-module__meta-item--data-only",children:(0,p.jsx)("p",{className:"googlesitekit-settings-module__meta-item-data googlesitekit-settings-module__meta-item-data--tiny",children:(0,p.jsx)(ne.A,{href:h,external:!0,children:(0,z.A)((0,a.sprintf)(/* translators: %s: Appropriate container term. */ /* translators: %s: Appropriate container term. */
(0,a.__)("Edit <VisuallyHidden>%s </VisuallyHidden>in Tag Manager","google-site-kit"),l?(0,a.__)("AMP container","google-site-kit"):(0,a.__)("container","google-site-kit")),{VisuallyHidden:(0,p.jsx)(ie.A,{})})})})})]})]}),(0,p.jsx)("div",{className:"googlesitekit-settings-module__meta-items",children:(0,p.jsxs)("div",{className:"googlesitekit-settings-module__meta-item",children:[(0,p.jsx)(K.A,{as:"h5",size:"medium",type:"label",className:"googlesitekit-settings-module__meta-item-type",children:(0,a.__)("Tag Manager Code Snippet","google-site-kit")}),(0,p.jsxs)("p",{className:"googlesitekit-settings-module__meta-item-data",children:[s&&(0,p.jsx)("span",{children:(0,a.__)("Snippet is inserted","google-site-kit")}),!s&&(0,p.jsx)("span",{children:(0,a.__)("Snippet is not inserted","google-site-kit")})]}),r&&(0,p.jsx)(C.A,{className:"googlesitekit-margin-bottom-0",children:(0,a.__)("Placing two tags at the same time is not recommended.","google-site-kit")})]})}),(0,p.jsx)(re.A,{statuses:v})]})}var oe=n(64067),ae=n(32091),ce=n.n(ae),le=n(54419),ge=n(22242),ue=n(47121),de=n(71423),me=n(53137);const pe="a valid container name is required to submit changes",he={selectors:{areSettingsEditDependenciesLoaded:(0,i.createRegistrySelector)(e=>()=>e(c.gL).hasFinishedResolution("getAccounts"))}};let fe=o().createModuleStore(Y.H,{ownedSettingsSlugs:["accountID","ampContainerID","containerID","internalAMPContainerID","internalContainerID"],storeName:c.gL,settingSlugs:["accountID","ampContainerID","containerID","internalContainerID","internalAMPContainerID","useSnippet","ownerID"],submitChanges:async function({select:e,dispatch:t}){const n=e(c.gL).getAccountID();if(e(c.gL).getContainerID()===c.vZ){const i=e(_.s).getValue(c.ZY,"containerName"),{response:s,error:r}=await t(c.gL).createContainer(n,c.XH,{containerName:i});if(r)return{error:r};await t(c.gL).setContainerID(s.publicId),await t(c.gL).setInternalContainerID(s.containerId)}if(e(c.gL).getAMPContainerID()===c.vZ){const i=e(_.s).getValue(c.ZY,"ampContainerName"),{response:s,error:r}=await t(c.gL).createContainer(n,c.$t,{containerName:i});if(r)return{error:r};await t(c.gL).setAMPContainerID(s.publicId),await t(c.gL).setInternalAMPContainerID(s.containerId)}if(e(c.gL).haveSettingsChanged()){const{error:n}=await t(c.gL).saveSettings();if(n)return{error:n};e(l.i).isModuleConnected(u.L1)&&await t(g.K9).fetchGetSettings()}if(e(T.O4).haveGoogleTagGatewaySettingsChanged()){const{error:n}=await t(T.O4).saveGoogleTagGatewaySettings();if(n)return{error:n};if(e(T.O4).isGoogleTagGatewayEnabled()&&!e(de.D).isNotificationDismissed(me.rq)){const{error:e}=await t(de.D).dismissNotification(me.rq)||{};if(e)return{error:e}}}return await(0,le.invalidateCache)("modules",Y.H),{}},rollbackChanges:function({select:e,dispatch:t}){e(c.gL).haveSettingsChanged()&&(t(c.gL).rollbackSettings(),t(T.O4).resetGoogleTagGatewaySettings())},validateCanSubmitChanges:function(e){const t=(0,ue.WI)(e),{getAccountID:n,getContainerID:i,getContainers:s,getAMPContainerID:r,getInternalContainerID:o,getInternalAMPContainerID:a,haveSettingsChanged:l,isDoingSubmitChanges:g}=t(c.gL),{isAMP:u,isSecondaryAMP:d}=t(T.O4),m=n();if(ce()(!g(),ge.mV),ce()(l(),ge.Wq),ce()(P(m),"a valid accountID is required to submit changes"),i()===c.vZ){const t=e(_.s).getValue(c.ZY,"containerName");ce()(G(t),pe);const n=s(m),i=O(t);ce()($(t,n),`a container with "${i}" name already exists`)}if(u()){const t=r();if(ce()(F(t),"a valid ampContainerID selection is required to submit changes"),M(t)&&ce()(U(a()),"a valid internalAMPContainerID is required to submit changes"),t===c.vZ){const t=e(_.s).getValue(c.ZY,"ampContainerName");ce()(G(t),pe);const n=s(m),i=O(t);ce()($(t,n),`an AMP container with "${i}" name already exists`)}}u()&&!d()||(ce()(F(i()),"a valid containerID selection is required to submit changes"),M(i())&&ce()(U(o()),"a valid internalContainerID is required to submit changes"))},validateHaveSettingsChanged:function(e,t,n){const{settings:i,savedSettings:s}=t,r=e(T.O4).haveGoogleTagGatewaySettingsChanged();n&&ce()((0,E.isEqual)((0,E.pick)(i,n),(0,E.pick)(s,n))||r,ge.Wq),ce()(!(0,E.isEqual)(i,s)||r,ge.Wq)}});fe=(({actions:e,selectors:t,...n})=>{const{setAmpContainerID:i,...s}=e,{getAmpContainerID:r,...o}=t;return{...n,actions:{...s,setAMPContainerID:i},selectors:{...o,getAMPContainerID:r}}})(fe);const ye=fe;var ve=n(3687);const _e="RESET_ACCOUNTS",Se=(0,ve.U)({baseName:"getAccounts",controlCallback:()=>(0,le.get)("modules",Y.H,"accounts",null,{useCache:!1}),reducerCallback:(0,i.createReducer)((e,t)=>{e.accounts=t})}),be={accounts:void 0},Ae={*resetAccounts(){const{dispatch:e}=yield i.commonActions.getRegistry();yield{payload:{},type:_e},e(c.gL).invalidateResolutionForStoreSelector("getAccounts")},selectAccount:(0,ue.$C)(e=>{var t;ce()((t=e)===c.ZC||P(t),"A valid accountID selection is required to select.")},function*(e){const{dispatch:t,select:n,resolveSelect:s}=yield i.commonActions.getRegistry();if(e===n(c.gL).getAccountID())return;if(t(c.gL).setSettings({accountID:e,containerID:"",internalContainerID:"",ampContainerID:"",internalAMPContainerID:""}),g.ZC===e||n(c.gL).hasExistingTag())return;const{isAMP:r,isSecondaryAMP:o}=n(T.O4);if(!r()||o()){const n=yield i.commonActions.await(s(c.gL).getWebContainers(e));n.length?1===n.length&&(t(c.gL).setContainerID(n[0].publicId),t(c.gL).setInternalContainerID(n[0].containerId)):(t(c.gL).setContainerID(c.vZ),t(c.gL).setInternalContainerID(""))}if(r()){const n=yield i.commonActions.await(s(c.gL).getAMPContainers(e));n.length?1===n.length&&(t(c.gL).setAMPContainerID(n[0].publicId),t(c.gL).setInternalAMPContainerID(n[0].containerId)):(t(c.gL).setAMPContainerID(c.vZ),t(c.gL).setInternalAMPContainerID(""))}})},ke=(0,i.createReducer)((e,{type:t})=>{if(t===_e)e.accounts=void 0,e.settings.accountID=void 0,e.settings.ampContainerID=void 0,e.settings.containerID=void 0,e.settings.internalAMPContainerID=void 0,e.settings.internalContainerID=void 0}),Ce={*getAccounts(){const{select:e,dispatch:t}=yield i.commonActions.getRegistry();let n=e(c.gL).getAccounts();n||({response:n}=yield Se.actions.fetchGetAccounts()),1!==n?.length||e(c.gL).getAccountID()||t(c.gL).selectAccount(n[0].accountId)}},xe={getAccounts(e){const{accounts:t}=e;return t},isDoingGetAccounts:(0,i.createRegistrySelector)(e=>()=>e(c.gL).isFetchingGetAccounts())},we=(0,i.combineStores)(Se,{initialState:be,actions:Ae,reducer:ke,resolvers:Ce,selectors:xe}),{initialState:Ne,actions:Ie,controls:Te,reducer:je,resolvers:De,selectors:Le}=we,Ee=we,Oe=(0,ve.U)({baseName:"getContainers",argsToParams:e=>({accountID:e}),validateParams:({accountID:e}={})=>{ce()(P(e),"A valid accountID is required to fetch containers.")},controlCallback:({accountID:e})=>(0,le.get)("modules",Y.H,"containers",{accountID:e},{useCache:!1}),reducerCallback:(0,i.createReducer)((e,t,{accountID:n})=>{e.containers[n]=t})}),Re=(0,ve.U)({baseName:"createContainer",argsToParams:(e,t,{containerName:n})=>({accountID:e,usageContext:t,containerName:n}),validateParams:({accountID:e,usageContext:t,containerName:n}={})=>{ce()(P(e),"A valid accountID is required to create a container."),ce()(V(t),"A valid usageContext is required to create a container."),ce()(G(n),"A valid containerName is required to create a container.")},controlCallback:({accountID:e,usageContext:t,containerName:n})=>(0,le.set)("modules",Y.H,"create-container",{accountID:e,usageContext:t,name:n}),reducerCallback:(0,i.createReducer)((e,t,{accountID:n})=>{e.containers[n]||(e.containers[n]=[]),e.containers[n].push(t)})}),Pe={createContainer:(0,ue.$C)((e,t,{containerName:n})=>{ce()(P(e),"A valid accountID is required to create a container."),ce()(V(t),"A valid usageContext is required to create a container."),ce()(G(n),"A valid containerName is required to create a container.")},function*(e,t,{containerName:n}){const{response:i,error:s}=yield Re.actions.fetchCreateContainer(e,t,{containerName:n});return{response:i,error:s}}),selectContainerByID:(0,ue.$C)(e=>{ce()(M(e),"A valid container ID is required to select a container by ID.")},function*(e){const{select:t,dispatch:n,resolveSelect:s}=yield i.commonActions.getRegistry(),r=t(c.gL).getAccountID();if(!P(r))return;yield i.commonActions.await(s(c.gL).getContainers(r));const o=t(c.gL).getContainerByID(r,e);o&&(o.usageContext.includes(c.XH)?(n(c.gL).setContainerID(e),n(c.gL).setInternalContainerID(o.containerId)):o.usageContext.includes(c.$t)&&(n(c.gL).setAMPContainerID(e),n(c.gL).setInternalAMPContainerID(o.containerId)))})};function*Me(e){const{resolveSelect:t}=yield i.commonActions.getRegistry();yield i.commonActions.await(t(c.gL).getContainers(e))}const Ge={*getContainers(e){if(!P(e))return;const{select:t}=yield i.commonActions.getRegistry();t(c.gL).getContainers(e)||(yield Oe.actions.fetchGetContainers(e))},getWebContainers:Me,getAMPContainers:Me},$e={getContainerByID:(0,i.createRegistrySelector)(e=>(t,n,i)=>{const s=e(c.gL).getContainers(n);if(void 0!==s)return s.find(({publicId:e})=>i===e)||null}),getWebContainers:(0,i.createRegistrySelector)(e=>(t,n)=>{const i=e(c.gL).getContainers(n);if(Array.isArray(i))return i.filter(({usageContext:e})=>e.includes(c.XH))}),getAMPContainers:(0,i.createRegistrySelector)(e=>(t,n)=>{const i=e(c.gL).getContainers(n);if(Array.isArray(i))return i.filter(({usageContext:e})=>e.includes(c.$t))}),getContainers:(e,t)=>e.containers[t],isDoingGetContainers:(0,i.createRegistrySelector)(e=>(t,n)=>e(c.gL).isFetchingGetContainers(n)),isDoingCreateContainer:e=>Object.values(e.isFetchingCreateContainer).some(Boolean),getPrimaryContainerID:(0,i.createRegistrySelector)(e=>()=>{const t=e(T.O4).isPrimaryAMP();if(void 0!==t)return t?e(c.gL).getAMPContainerID():e(c.gL).getContainerID()})},Fe=(0,i.combineStores)(Oe,Re,{initialState:{containers:{}},actions:Pe,controls:{},resolvers:Ge,selectors:$e}),{initialState:Ue,actions:Ve,controls:qe,reducer:He,resolvers:Be,selectors:Ze}=Fe,We=Fe;const Ke=(0,n(31199).d)({storeName:c.gL,tagMatchers:[/<script[^>]*>[^>]+?www.googletagmanager.com\/gtm[^>]+?['|"](GTM-[0-9A-Z]+)['|"]/,/<script[^>]*src=['|"]https:\/\/www.googletagmanager.com\/gtm\.js\?id=(GTM-[0-9A-Z]+)['|"]/,/<script[^>]*src=['|"]https:\/\/www.googletagmanager.com\/ns.html\?id=(GTM-[0-9A-Z]+)['|"]/,/<amp-analytics [^>]*config=['|"]https:\/\/www.googletagmanager.com\/amp.json\?id=(GTM-[0-9A-Z]+)['|"]/],isValidTag:M}),{initialState:Ye,actions:ze,controls:Qe,reducer:Je,resolvers:Xe,selectors:et}=Ke,tt=Ke;var nt=n(89967);const it=(0,ve.U)({baseName:"getLiveContainerVersion",argsToParams:(e,t)=>({accountID:e,internalContainerID:t}),validateParams:({accountID:e,internalContainerID:t}={})=>{ce()(P(e),"A valid accountID is required to fetch or receive a live container version."),ce()(U(t),"A valid internalContainerID is required to fetch or receive a live container version.")},controlCallback:async({accountID:e,internalContainerID:t})=>{try{return await(0,le.get)("modules",Y.H,"live-container-version",{accountID:e,internalContainerID:t},{useCache:!1})}catch(e){if(404===e.code&&e.message.includes("container version not found"))return null;throw e}},reducerCallback:(0,i.createReducer)((e,t,{accountID:n,internalContainerID:i})=>{e.liveContainerVersions[`${n}::${i}`]=t})}),st={*getLiveContainerVersion(e,t){if(!P(e)||!U(t))return;const{select:n}=yield i.commonActions.getRegistry();void 0===n(c.gL).getLiveContainerVersion(e,t)&&(yield it.actions.fetchGetLiveContainerVersion(e,t))}},rt={getLiveContainerGoogleTag:(0,i.createRegistrySelector)(e=>function(t,n,i){const s=e(c.gL).getLiveContainerVersion(n,i);if(void 0!==s)return s?.tag&&s.tag.find(({type:e})=>"googtag"===e)||null}),getLiveContainerGoogleTagID:(0,i.createRegistrySelector)(e=>function(t,n,i){const s=e(c.gL).getLiveContainerGoogleTag(n,i);if(void 0!==s){if(s?.parameter){let t=s.parameter.find(({key:e})=>"tagId"===e)?.value;if(t?.startsWith("{{")){t=t.replace(/(\{\{|\}\})/g,"");const s=e(c.gL).getLiveContainerVariable(n,i,t);t=s?.parameter.find(({key:e})=>"value"===e)?.value}if((0,nt.Xo)(t))return t}return null}}),getCurrentGTMGoogleTagID:(0,i.createRegistrySelector)(e=>function(){const t=e(c.gL).getAccountID();if(!P(t))return null;const n=e(c.gL).getInternalContainerID();return U(n)?e(c.gL).getLiveContainerGoogleTagID(t,n):null}),getLiveContainerVariable:(0,i.createRegistrySelector)(e=>function(t,n,i,s){const r=e(c.gL).getLiveContainerVersion(n,i);if(void 0!==r)return r?.variable&&r.variable.find(({name:e})=>e===s)||null}),getLiveContainerVersion:(e,t,n)=>e.liveContainerVersions[`${t}::${n}`],isDoingGetLiveContainerVersion:(0,i.createRegistrySelector)(e=>(t,n,i)=>e(c.gL).isFetchingGetLiveContainerVersion(n,i))},ot=(0,i.combineStores)(it,{initialState:{liveContainerVersions:{}},resolvers:st,selectors:rt}),{initialState:at,actions:ct,controls:lt,reducer:gt,resolvers:ut,selectors:dt}=ot,mt=ot;var pt=n(44451);const ht={selectors:{getServiceURL:(0,i.createRegistrySelector)(e=>(t,{path:n,query:i}={})=>{let s="https://tagmanager.google.com/";if(i&&(s=(0,pt.F)(s,i)),n){s=`${s}#${`/${n.replace(/^\//,"")}`}`}const r=e(S.oR).getAccountChooserURL(s);if(void 0!==r)return r})}},ft=(0,i.combineStores)(ye,Ee,We,tt,mt,(0,oe.k)(c.gL),he,ht),{initialState:yt,actions:vt,controls:_t,reducer:St,resolvers:bt,selectors:At}=ft;s().registerStore(c.gL,ft),o().registerModule(Y.H,{storeName:c.gL,SettingsEditComponent:SettingsEdit,SettingsViewComponent:SettingsView,SetupComponent:SetupMain,Icon:Z,features:[(0,a.__)("You will not be able to create tags without updating code","google-site-kit")]})},93896:(e,t,n)=>{n.d(t,{O4:()=>i,OQ:()=>r,qc:()=>s});const i="core/site",s="primary",r="secondary"},94552:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(62688),s=n.n(i),r=n(4452),o=n.n(r),a=n(62540);function ChangeArrow({direction:e,invertColor:t,width:n,height:i}){return(0,a.jsx)("svg",{className:o()("googlesitekit-change-arrow",`googlesitekit-change-arrow--${e}`,{"googlesitekit-change-arrow--inverted-color":t}),width:n,height:i,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M5.625 10L5.625 2.375L9.125 5.875L10 5L5 -1.76555e-07L-2.7055e-07 5L0.875 5.875L4.375 2.375L4.375 10L5.625 10Z",fill:"currentColor"})})}ChangeArrow.propTypes={direction:s().string,invertColor:s().bool,width:s().number,height:s().number},ChangeArrow.defaultProps={direction:"up",invertColor:!1,width:9,height:9};const c=ChangeArrow},97398:(e,t,n)=>{n.d(t,{Y:()=>i});const i="search-console"},99897:(e,t,n)=>{n.d(t,{A_:()=>g,DF:()=>d,L1:()=>m,M0:()=>o,Mc:()=>a,Ok:()=>l,U9:()=>c,iW:()=>r,ue:()=>s,wq:()=>i,xR:()=>u});const i=1,s=2,r=3,o="enhanced-measurement-activation-banner-tooltip-state",a="enhanced-measurement-activation-banner-dismissed-item",c="_r.explorerCard..selmet",l="_r.explorerCard..seldim",g="_r..dataFilters",u="_r..nav",d="key-metrics-connect-ga4-cta-widget",m="analytics-4"}},e=>{e.O(0,[660],()=>{return t=93594,e(e.s=t);var t});e.O()}]);